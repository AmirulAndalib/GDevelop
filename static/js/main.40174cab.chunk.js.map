{"version":3,"sources":["KeyboardShortcuts/DefaultShortcuts.js","Utils/LoadScript.js","Utils/OptionalRequire.js","ProjectsStorage/LocalFileStorageProvider/LocalPathFinder.js","UI/Theme/CreateTheme.js","Utils/i18n/RtlLanguages.js","UI/Theme/index.js","serviceWorker.js","index.js","Utils/Window.js","Utils/GDevelopServices/ApiConfigs.js","Utils/Language.js","MainFrame/Preferences/PreferencesContext.js","Utils/WebGL.js","Version/VersionMetadata.js","Utils/Analytics/UserUUID.js","Utils/Analytics/LocalStats.js","Utils/Analytics/EventSender.js","Version/index.js","UI/Messages/MessageBox.js","MainFrame/Preferences/PreferencesProvider.js","Utils/ColorTransformer.js","UI/Theme/DefaultLightTheme/index.js","locales/LocalesMetadata.js","UI/Theme/DefaultDarkTheme/index.js","UI/Theme/BlueDarkTheme/index.js","UI/Theme/NordTheme/index.js","UI/Theme/SolarizedDarkTheme/index.js","UI/Theme/OneDarkTheme/index.js","UI/Theme/RosePineTheme/index.js","UI/Theme/ThemeRegistry.js","Utils/NewNameGenerator.js","Utils/Platform.js","Utils/GDevelopServices/Authentication.js"],"names":["defaultShortcuts","QUIT_APP","OPEN_PROJECT_MANAGER","LAUNCH_NEW_PREVIEW","LAUNCH_DEBUG_PREVIEW","HOT_RELOAD_PREVIEW","LAUNCH_NETWORK_PREVIEW","OPEN_HOME_PAGE","CREATE_NEW_PROJECT","OPEN_PROJECT","SAVE_PROJECT","SAVE_PROJECT_AS","CLOSE_PROJECT","EXPORT_GAME","OPEN_RECENT_PROJECT","OPEN_COMMAND_PALETTE","OPEN_PROJECT_PROPERTIES","OPEN_PROJECT_LOADING_SCREEN","OPEN_PROJECT_VARIABLES","OPEN_PLATFORM_SPECIFIC_ASSETS_DIALOG","OPEN_PROJECT_RESOURCES","OPEN_LAYOUT","OPEN_EXTERNAL_EVENTS","OPEN_EXTERNAL_LAYOUT","OPEN_EXTENSION","OPEN_SCENE_PROPERTIES","OPEN_SCENE_VARIABLES","OPEN_OBJECTS_PANEL","OPEN_OBJECT_GROUPS_PANEL","OPEN_PROPERTIES_PANEL","TOGGLE_INSTANCES_PANEL","TOGGLE_LAYERS_PANEL","RENAME_SCENE_OBJECT","TOGGLE_WINDOW_MASK","TOGGLE_GRID","OPEN_SETUP_GRID","EDIT_LAYER_EFFECTS","EDIT_LAYER","EDIT_OBJECT","EDIT_OBJECT_VARIABLES","EDIT_OBJECT_GROUP","ADD_STANDARD_EVENT","ADD_SUBEVENT","ADD_COMMENT_EVENT","TOGGLE_EVENT_DISABLED","TOGGLE_CONDITION_INVERTED","CHOOSE_AND_ADD_EVENT","OPEN_EXTENSION_SETTINGS","loadScript","source","Promise","resolve","reject","document","body","scriptElement","createElement","type","src","onload","onerror","error","onabort","appendChild","Error","nodeRequire","require","module","exports","moduleName","config","rethrowException","global","ex","path","optionalRequire","fs","findDefaultFolder","electronApp","documentsPath","getPath","join","findEmptyPathInWorkspaceFolder","defaultFolder","basePath","folderName","generateName","name","accessSync","findEmptyPath","closeableTabSizeOverrides","width","height","closeButtonWidth","getMuiOverrides","tabTextColor","tabSelectedTextColor","tabBackgroundColor","tabSelectedBackgroundColor","inputBorderBottomColor","appBarBackgroundColor","appBarTextColor","iconColor","outlinedButtonBorderColor","alternateCanvasBackgroundColor","alternateCanvasLightBackgroundColor","MuiTypography","h1","fontSize","lineHeight","fontWeight","letterSpacing","h2","h3","h4","h5","h6","body1","caption","MuiInput","input","padding","paddingBottom","multiline","underline","borderBottom","MuiAppBar","colorPrimary","backgroundColor","color","MuiIconButton","root","MuiListItemIcon","minWidth","paddingRight","MuiListItem","secondaryAction","gutters","paddingLeft","MuiListItemSecondaryAction","right","MuiTabs","minHeight","MuiTab","textColorPrimary","textTransform","maxWidth","paddingTop","MuiButtonBase","cursor","MuiTableCell","sizeSmall","MuiDialogTitle","MuiDialogContent","MuiFormControl","marginDense","marginTop","marginBottom","MuiCheckbox","MuiPaper","rounded","borderRadius","MuiButton","outlined","borderColor","outlinedSizeSmall","containedSizeSmall","textSizeSmall","MuiSvgIcon","fontSizeSmall","MuiAccordion","margin","opacity","display","MuiAccordionSummary","content","expandIcon","MuiAccordionDetails","MuiCardHeader","flexGrow","MuiMenu","paper","MuiAutocomplete","smallScreenMuiOverrides","rtlDirection","direction","rtlMuiOverrides","label","order","MuiFormControlLabel","MuiTextField","getMuiThemeModeFromMainColor","contrastText","light","lighten","main","dark","darken","getMuiThemeColors","styles","primary","secondary","success","info","warning","createGdevelopTheme","theme","rootClassNameIdentifier","paletteType","gdevelopIconsCSSFilter","gdevelopTheme","palette","canvasColor","alternateCanvasColor","message","valid","titlebar","toolbar","separatorColor","text","highlighted","linearProgress","complete","incomplete","home","header","separator","dialog","link","default","hover","switch","trackColor","toggled","disabled","thumbColor","tabs","indicator","dropIndicator","canDrop","cannotDrop","border","example","difficulty","simple","advanced","expert","closableTabs","fontFamily","textColor","selectedBackgroundColor","selectedTextColor","selectedBorderColor","imagePreview","backgroundFilter","frameBorderColor","list","itemsBackgroundColor","searchBar","focused","hovered","listItem","groupBackgroundColor","groupTextColor","deprecatedGroupTextColor","rightIconColor","selectedRightIconColor","errorTextColor","warningTextColor","selectedErrorBackgroundColor","selectedWarningBackgroundColor","medium","emptyMessage","shadowColor","iconButton","selectedColor","mosaicRootClassName","eventsSheetRootClassName","tableRootClassName","markdownRootClassName","logo","chart","dataColor1","gridColor","muiThemeOptions","typography","common","black","white","background","alternate","hint","overrides","rtlLanguages","Set","defaultThemeName","getFullTheme","themeName","language","windowWidth","themes","console","warn","ltr","has","muiTheme","createMuiTheme","isLocalhost","Boolean","window","location","hostname","match","register","navigator","publicUrl","URL","process","href","origin","log","addEventListener","swUrl","fetch","headers","then","response","contentType","get","status","indexOf","serviceWorker","ready","registration","unregister","reload","registerValidSW","catch","checkValidServiceWorker","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","GD_STARTUP_TIMES","electron","values","loadPreferencesFromLocalStorage","getElementsByTagName","style","loadingMessage","position","top","left","textAlign","animation","Bootstrapper","App","authentication","Authentication","handleEditorLoadError","rawError","setState","showErrorBox","errorId","installAnalyticsEvents","push","performance","now","VersionMetadata","versionWithHash","initializeGDevelopJs","locateFile","prefix","gd","sendProgramOpening","create","this","Fragment","Component","rootElement","getElementById","ReactDOM","render","remote","shell","ipcRenderer","POSITIONAL_ARGUMENTS_KEY","currentTitleBarColor","useWindowControlsOverlayWatcher","onChanged","windowControlsOverlay","React","listenerCallback","debounce","removeEventListener","Window","title","getCurrentWindow","setTitle","err","newColor","invoke","symbolColor","isLightRgbColor","hexToRGBColor","metaElement","querySelector","setAttribute","x","y","scaleFactor","isWindows","rect","screen","getDisplayMatching","browserWindow","setBounds","Math","round","show","app","quit","showInactive","setAlwaysOnTop","forceHide","isFocused","hide","cb","on","getGlobal","argumentsObject","URLSearchParams","search","forEach","value","project","argumentNames","url","argumentName","searchParams","delete","history","replaceState","toString","argumentNamesAndValues","set","showMessageBoxSync","buttons","alert","confirm","cancelId","textEditorSelectors","buildEditorContextMenu","e","target","closest","menu","setTimeout","popup","preventDefault","openExternal","open","orientation","split","isDev","dev","GDevelopGamePreviews","baseUrl","GDevelopGamesPlatform","getInstantBuildUrl","buildId","getGameUrl","gameId","getGameUrlWithSlug","userSlug","gameSlug","toLowerCase","getUserPublicProfileUrl","userId","username","GDevelopFirebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","GDevelopBuildApi","GDevelopUsageApi","GDevelopReleaseApi","GDevelopAssetApi","GDevelopAnalyticsApi","GDevelopGameApi","GDevelopUserApi","GDevelopPlayApi","GDevelopShopApi","GDevelopProjectApi","GDevelopGenerationApi","GDevelopProjectResourcesStorage","GDevelopPrivateAssetsStorage","GDevelopPublicAssetResourcesStorageBaseUrl","GDevelopPublicAssetResourcesStorageStagingBaseUrl","setLanguageInDOM","formattedLanguage","replace","htmlTag","metaContentLanguage","getBrowserLanguageOrLocale","selectLanguageOrLocale","languageOrLocale","defaultLanguage","languageMetadata","LocalesMetadata","filter","localeMetadata","languageCode","length","translationRatio","getLanguageOnlyFromLanguageOrLocale","localeCandidates","startsWith","sort","a","b","initialPreferences","autoDownloadUpdates","matchMedia","matches","codeEditorThemeName","hiddenAlertMessages","hiddenTutorialHints","hiddenAnnouncements","autoDisplayChangelog","lastLaunchedVersion","undefined","eventsSheetShowObjectThumbnails","autosaveOnPreview","useUndefinedVariablesInAutocompletion","useGDJSDevelopmentWatcher","eventsSheetUseAssignmentOperators","eventsSheetZoomLevel","showEffectParameterNames","projectLastUsedPaths","defaultEditorMosaicNodes","recentProjectFiles","autoOpenMostRecentProject","hasProjectOpened","userShortcutMap","newObjectDialogDefaultTab","isMenuBarHiddenInPreview","isAlwaysOnTopInPreview","backdropClickBehavior","eventsSheetCancelInlineParameter","showCommunityExtensions","showGetStartedSection","showEventBasedObjectsEditor","use3DEditor","canvas","WebGLRenderingContext","getContext","isWebGLSupported","inAppTutorialsProgress","newProjectsDefaultFolder","newProjectsDefaultStorageProviderName","useShortcutToClosePreviewWindow","setLanguage","setThemeName","setCodeEditorThemeName","setAutoDownloadUpdates","checkUpdates","setAutoDisplayChangelog","showAlertMessage","identifier","showAllAlertMessages","showTutorialHint","showAllTutorialHints","showAnnouncement","showAllAnnouncements","verifyIfIsNewVersion","setEventsSheetShowObjectThumbnails","setAutosaveOnPreview","setUseUndefinedVariablesInAutocompletion","enabled","setUseGDJSDevelopmentWatcher","setEventsSheetUseAssignmentOperators","setEventsSheetZoomLevel","zoomLevel","setShowEffectParameterNames","getLastUsedPath","kind","setLastUsedPath","getDefaultEditorMosaicNode","setDefaultEditorMosaicNode","node","getRecentProjectFiles","insertRecentProjectFile","removeRecentProjectFile","getAutoOpenMostRecentProject","setAutoOpenMostRecentProject","hadProjectOpenedDuringLastSession","setHasProjectOpened","resetShortcutsToDefault","setShortcutForCommand","commandName","shortcut","getNewObjectDialogDefaultTab","setNewObjectDialogDefaultTab","getIsMenuBarHiddenInPreview","setIsMenuBarHiddenInPreview","setBackdropClickBehavior","getIsAlwaysOnTopInPreview","setIsAlwaysOnTopInPreview","setEventsSheetCancelInlineParameter","setShowCommunityExtensions","setShowGetStartedSection","setShowEventBasedObjectsEditor","getShowEventBasedObjectsEditor","setUse3DEditor","getUse3DEditor","saveTutorialProgress","getTutorialProgress","setNewProjectsDefaultFolder","setNewProjectsDefaultStorageProviderName","setUseShortcutToClosePreviewWindow","PreferencesContext","generateUUID","random","localStorageKey","currentUserUuid","resetUserUUID","newUserUUID","localStorage","setItem","getUserUUID","storedUserUUID","getItem","localStoragePrefix","getProgramOpeningCount","count","parseInt","isElectronApp","posthogLoaded","userIdentified","posthogLastPropertiesSent","currentlyRunningInAppTutorial","setCurrentlyRunningInAppTutorial","tutorial","recordEvent","metadata","posthog","capture","isInAppTutorialRunning","isInDesktopApp","isInWebApp","init","api_host","loaded","autocapture","identifyUserForAnalytics","authenticatedUser","firebaseUser","profile","userPreferences","appLanguage","browserLanguage","userProperties","providerId","email","emailVerified","uuid","version","getIDEVersion","getIDEVersionWithHash","programOpeningCount","usedDesktopApp","usedWebApp","gdevelopUsage","teamOrCompanySize","companyName","creationExperience","creationGoal","hearFrom","stringifiedUserProperties","JSON","stringify","uid","identify","aliasUserForAnalyticsAfterSignUp","alias","onUserLogoutForAnalytics","reset","incrementProgramOpeningCount","sendExportLaunched","exportKind","platform","sendExampleDetailsOpened","slug","sendNewGameCreated","exampleUrl","exampleSlug","templateName","sendTutorialOpened","tutorialName","sendInAppTutorialStarted","sendAssetPackOpened","options","sendAssetPackBuyClicked","sendAssetPackInformationOpened","sendErrorMessage","sendSignupDone","sendSubscriptionCheckDialogShown","mode","id","sendSubscriptionCheckDismiss","sendSubscriptionDialogShown","sendAssetOpened","sendAssetAddedToProject","sendExtensionDetailsOpened","sendExtensionAddedToProject","sendNewObjectCreated","sendChoosePlanClicked","planId","sendExternalEditorOpened","editorName","sendBehaviorsEditorShown","sendBehaviorAdded","sendCloudProjectCouldNotBeOpened","sendEventsExtractedAsFunction","sendInAppTutorialProgress","includes","tutorialId","gdCoreVersionString","getGDCoreVersion","VersionWrapper","fullString","showMessageBox","showWarningBox","delayToNextTick","doNotReport","localStorageItem","persistedState","parse","key","hasOwnProperty","getPreferences","preferences","browserLanguageOrLocale","getInitialPreferences","PreferencesProvider","_setLanguage","bind","_setThemeName","_setCodeEditorThemeName","_setAutoDownloadUpdates","_checkUpdates","_setAutoDisplayChangelog","_showAlertMessage","_showAllAlertMessages","_showTutorialHint","_showAllTutorialHints","_showAnnouncement","_showAllAnnouncements","_verifyIfIsNewVersion","_setEventsSheetShowObjectThumbnails","_setAutosaveOnPreview","_setUseUndefinedVariablesInAutocompletion","_setUseGDJSDevelopmentWatcher","_setEventsSheetUseAssignmentOperators","_setEventsSheetZoomLevel","_setShowEffectParameterNames","_getLastUsedPath","_setLastUsedPath","_getDefaultEditorMosaicNode","_setDefaultEditorMosaicNode","_getRecentProjectFiles","_insertRecentProjectFile","_removeRecentProjectFile","_getAutoOpenMostRecentProject","_setAutoOpenMostRecentProject","_hadProjectOpenedDuringLastSession","_setHasProjectOpened","_setShortcutForCommand","_resetShortcutsToDefault","_getNewObjectDialogDefaultTab","_setNewObjectDialogDefaultTab","_getIsMenuBarHiddenInPreview","_setIsMenuBarHiddenInPreview","_setBackdropClickBehavior","_getIsAlwaysOnTopInPreview","_setIsAlwaysOnTopInPreview","_setEventsSheetCancelInlineParameter","_setShowCommunityExtensions","_setShowGetStartedSection","_setShowEventBasedObjectsEditor","_getShowEventBasedObjectsEditor","_setUse3DEditor","_getUse3DEditor","_saveTutorialProgress","_getTutorialProgress","_setNewProjectsDefaultFolder","_setNewProjectsDefaultStorageProviderName","_setUseShortcutToClosePreviewWindow","_persistValuesToLocalStorage","tutorialProgress","userIdKey","tutorialProgresses","forceDownload","disableCheckForUpdates","props","send","currentVersion","projectPath","getProjectFile","projectPaths","latestPath","newProjectLastUsedPaths","recents","newRecentFile","storageProviderName","_setRecentProjectFiles","recentFile","fileMetadata","fileIdentifier","slice","recentFileItem","shortcutString","setToDefault","updatedShortcutMap","newStorageProviderName","Provider","children","rgbColorToRGBString","rgbColor","r","g","rgbToHex","rgbToHexNumber","rgbStringToHexNumber","rgbString","rgbStringAndAlphaToRGBColor","rgbStringToHexString","rgbColorToHex","rgbOrHexToHexNumber","hexNumberToRGBColor","hexNumber","hex","hexString","substr","hexNumberToRGBString","rgbOrHexToRGBString","alpha","colors","rgbToHsl","max","min","h","s","l","d","DefaultDarkTheme","DefaultLightTheme","BlueDarkTheme","NordTheme","SolarizedDarkTheme","OneDarkTheme","RosePineTheme","splitNameAndNumberSuffix","i","suffix","numberSuffix","Number","floor","newNameGenerator","exists","radix","startingNumberSuffix","potentialName","_isWindows","windows","_isMacLike","_isMobile","test","userAgent","getUserAgent","getArch","arch","getSystemVersion","getPlatformName","isMacLike","isMobile","isNativeMobileApp","_onUserLogoutCallbacks","_onUserUpdateCallbacks","addUserLogoutListener","addUserUpdateListener","cbToRemove","createFirebaseAccount","form","createUserWithEmailAndPassword","auth","password","userCredentials","sendEmailVerification","user","createUser","getAuthorizationHeader","authorizationHeader","currentUser","axios","post","getNewsletterEmail","isCreator","params","Authorization","login","signInWithEmailAndPassword","forgotPassword","sendPasswordResetEmail","getFirebaseUser","sendFirebaseEmailVerification","changeEmail","updateEmail","patch","getUserProfile","data","editUserProfile","description","getGameStatsEmail","donateLink","communityLinks","acceptGameStatsEmail","getFirebaseUserSync","logout","signOut","deleteAccount","getIdToken","token","isAuthenticated","initializeApp","getAuth","onAuthStateChanged"],"mappings":"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","file":"static/js/main.40174cab.chunk.js","sourcesContent":["// @flow\nimport { type CommandName } from '../CommandPalette/CommandsList';\n\nexport type ShortcutMap = { [CommandName]: string };\n\nconst defaultShortcuts: ShortcutMap = {\n  QUIT_APP: 'CmdOrCtrl+KeyQ', // It's important to keep this shortcut, as this default cannot be overriden on Mac.\n  OPEN_PROJECT_MANAGER: 'CmdOrCtrl+Alt+KeyE',\n  LAUNCH_NEW_PREVIEW: 'F4',\n  LAUNCH_DEBUG_PREVIEW: 'F6',\n  HOT_RELOAD_PREVIEW: 'F5',\n  LAUNCH_NETWORK_PREVIEW: 'F8',\n  OPEN_HOME_PAGE: '',\n  CREATE_NEW_PROJECT: 'CmdOrCtrl+Alt+KeyN',\n  OPEN_PROJECT: 'CmdOrCtrl+KeyO',\n  SAVE_PROJECT: 'CmdOrCtrl+KeyS',\n  SAVE_PROJECT_AS: 'CmdOrCtrl+Shift+KeyS',\n  CLOSE_PROJECT: 'CmdOrCtrl+KeyW',\n  EXPORT_GAME: 'CmdOrCtrl+Shift+KeyE',\n  OPEN_RECENT_PROJECT: '',\n  OPEN_COMMAND_PALETTE: 'CmdOrCtrl+KeyP',\n\n  OPEN_PROJECT_PROPERTIES: '',\n  OPEN_PROJECT_LOADING_SCREEN: '',\n  OPEN_PROJECT_VARIABLES: '',\n  OPEN_PLATFORM_SPECIFIC_ASSETS_DIALOG: '',\n  OPEN_PROJECT_RESOURCES: '',\n\n  OPEN_LAYOUT: 'Alt+KeyS',\n  OPEN_EXTERNAL_EVENTS: 'Alt+KeyV',\n  OPEN_EXTERNAL_LAYOUT: 'Alt+KeyW',\n  OPEN_EXTENSION: 'Alt+KeyE',\n\n  OPEN_SCENE_PROPERTIES: 'KeyS',\n  OPEN_SCENE_VARIABLES: 'KeyV',\n\n  OPEN_OBJECTS_PANEL: 'KeyO',\n  OPEN_OBJECT_GROUPS_PANEL: 'KeyG',\n  OPEN_PROPERTIES_PANEL: 'KeyP',\n  TOGGLE_INSTANCES_PANEL: 'KeyI',\n  TOGGLE_LAYERS_PANEL: 'KeyL',\n  RENAME_SCENE_OBJECT: 'F2',\n  TOGGLE_WINDOW_MASK: 'KeyM',\n  TOGGLE_GRID: 'Alt+KeyG',\n  OPEN_SETUP_GRID: 'CmdOrCtrl+Shift+KeyG',\n  EDIT_LAYER_EFFECTS: 'KeyE',\n  EDIT_LAYER: 'KeyT',\n  EDIT_OBJECT: 'Shift+KeyE',\n  EDIT_OBJECT_VARIABLES: 'Shift+KeyV',\n  EDIT_OBJECT_GROUP: 'Shift+KeyG',\n\n  ADD_STANDARD_EVENT: 'Shift+KeyA',\n  ADD_SUBEVENT: 'Shift+KeyD',\n  ADD_COMMENT_EVENT: '',\n  TOGGLE_EVENT_DISABLED: 'KeyD',\n  TOGGLE_CONDITION_INVERTED: 'KeyJ',\n  CHOOSE_AND_ADD_EVENT: 'Shift+KeyW',\n  OPEN_EXTENSION_SETTINGS: '',\n};\n\nexport default defaultShortcuts;\n","// @flow\n\n/**\n * Load a script from the specified source. The returned promise\n * resolves when the script is loaded.\n * @param source The script source\n */\nexport const loadScript = (source: string): Promise<void> => {\n  return new Promise((resolve, reject) => {\n    if (typeof document === 'undefined') {\n      reject(\n        new Error('loadScript is only supported in a browser environment.')\n      );\n      return;\n    }\n\n    const { body } = document;\n    if (!body) {\n      reject(\n        new Error('loadScript is only supported in a browser environment.')\n      );\n      return;\n    }\n\n    const scriptElement = document.createElement('script');\n    scriptElement.type = 'text/javascript';\n    scriptElement.src = source;\n    scriptElement.onload = () => resolve();\n    scriptElement.onerror = error => reject(error);\n    scriptElement.onabort = error => reject(error);\n\n    body.appendChild(scriptElement);\n  });\n};\n","// Note: this file don't use export/imports to allow its usage from Node.js\nconst nodeRequire = require('node-require-function')(); //TODO\n\n/**\n * Allow to require a Node.js/npm module without having it bundled by webpack.\n * This means that this module will only be available when running on Electron or Node.js.\n * When running without Electron or Node.js, `null` will be returned.\n *\n * Note: **in most cases**, prefer `optionalLazyRequire` to avoid loading too many modules\n * at the app startup. Only use optionalRequire for \"well-known\" Node.js modules (fs, path...)\n *\n * @param {string} moduleName The name of the module. For example: `fs`.\n */\nconst optionalRequire = (\n  moduleName,\n  config = {\n    rethrowException: false,\n  }\n) => {\n  try {\n    if (global.require) {\n      // Electron will expose require on global object. Use it, with an\n      // expression to avoid webpack to try to bundle the call to require.\n      return global['require'](moduleName);\n    } else if (nodeRequire) {\n      //Node.js\n      // nodeRequire is Node.js' require function that is properly extracted\n      // by node-require-function when running on Node.js\n      return nodeRequire(moduleName);\n    }\n\n    // We don't have Electron require nor Node.js require (we must be in a browser)\n    return null;\n  } catch (ex) {\n    if (config.rethrowException) throw ex;\n\n    return null;\n  }\n};\n\nmodule.exports = optionalRequire;\n","// @flow\nimport generateName from '../../Utils/NewNameGenerator';\nimport optionalRequire from '../../Utils/OptionalRequire';\nconst path = optionalRequire('path');\nvar fs = optionalRequire('fs-extra');\n\nconst findEmptyPath = (basePath: string) => {\n  if (!path) return basePath;\n\n  const folderName = generateName('My project', name => {\n    try {\n      fs.accessSync(path.join(basePath, name));\n    } catch (ex) {\n      return false;\n    }\n    return true;\n  });\n\n  return path.join(basePath, folderName);\n};\n\n/**\n * Returns the default workspace folder from the Documents folder or the Home folder\n */\nexport const findDefaultFolder = (electronApp: any): string => {\n  let documentsPath = '';\n  try {\n    documentsPath = electronApp.getPath('documents');\n  } catch (ex) {\n    // A user may not have the Documents folder defined on Windows.\n    documentsPath = electronApp.getPath('home');\n  }\n  return path.join(documentsPath, 'GDevelop projects');\n};\n\n/**\n * Returns the current workspace with a generated project name\n */\nexport const findEmptyPathInWorkspaceFolder = (\n  electronApp: any,\n  defaultFolder: string | null\n): string => {\n  const folder =\n    defaultFolder === null ? findDefaultFolder(electronApp) : defaultFolder;\n  return findEmptyPath(folder);\n};\n","// @flow\nimport { darken, lighten } from '@material-ui/core/styles';\n\nconst closeableTabSizeOverrides = {\n  width: 200,\n  height: 30,\n  closeButtonWidth: 24,\n};\n\nexport function getRootClassNames(theme: string) {\n  return {\n    mosaicRootClassName: theme,\n    eventsSheetRootClassName: theme,\n    tableRootClassName: theme,\n    markdownRootClassName: theme,\n  };\n}\n\nexport function getMuiOverrides({\n  tabTextColor,\n  tabSelectedTextColor,\n  tabBackgroundColor,\n  tabSelectedBackgroundColor,\n  inputBorderBottomColor,\n  appBarBackgroundColor,\n  appBarTextColor,\n  iconColor,\n  outlinedButtonBorderColor,\n  alternateCanvasBackgroundColor,\n  alternateCanvasLightBackgroundColor,\n}: {|\n  tabTextColor: string,\n  tabSelectedTextColor: string,\n  tabBackgroundColor: string,\n  tabSelectedBackgroundColor: string,\n  inputBorderBottomColor: string,\n  appBarBackgroundColor: string,\n  appBarTextColor: string,\n  iconColor: string,\n  outlinedButtonBorderColor: string,\n  alternateCanvasBackgroundColor: string,\n  alternateCanvasLightBackgroundColor: string,\n|}) {\n  return {\n    MuiTypography: {\n      h1: {\n        fontSize: '44px',\n        lineHeight: '56px',\n        fontWeight: 900,\n        letterSpacing: '0.01em',\n      },\n      h2: {\n        fontSize: '33px',\n        lineHeight: '40px',\n        fontWeight: 700,\n      },\n      h3: {\n        fontSize: '25px',\n        lineHeight: '32px',\n        fontWeight: 700,\n      },\n      h4: {\n        fontSize: '19px',\n        lineHeight: '24px',\n        fontWeight: 700,\n        letterSpacing: '0.01em',\n      },\n      h5: {\n        fontSize: '14px',\n        lineHeight: '20px',\n        fontWeight: 700,\n        letterSpacing: '0.02em',\n      },\n      h6: {\n        // Make h6, used in Drawer title bars, use the same weight as tabs and mosaic windows\n        fontWeight: 600,\n      },\n      body1: {\n        fontSize: '14px',\n        lineHeight: '20px',\n        fontWeight: 400,\n        letterSpacing: '0.01em',\n      },\n      caption: {\n        fontSize: '12px',\n        lineHeight: '16px',\n        fontWeight: 400,\n        letterSpacing: '0.02em',\n      },\n    },\n    MuiInput: {\n      input: {\n        padding: 0,\n        paddingBottom: 3,\n      },\n      multiline: {\n        padding: 0,\n        paddingBottom: 3,\n      },\n      underline: {\n        '&:before': {\n          borderBottom: `1px solid ${inputBorderBottomColor}`,\n        },\n      },\n    },\n    MuiAppBar: {\n      colorPrimary: {\n        // Use some colors as mosaic titles:\n        backgroundColor: appBarBackgroundColor,\n        color: appBarTextColor,\n      },\n    },\n    MuiIconButton: {\n      root: {\n        // Fix color being grey if not set to (almost) black\n        color: iconColor,\n      },\n    },\n    MuiListItemIcon: {\n      root: {\n        // Fix color being grey if not set to (almost) black\n        color: iconColor,\n        minWidth: 0,\n        paddingRight: 8,\n      },\n    },\n    // Reduce right margins from 16px to 8px in lists:\n    MuiListItem: {\n      secondaryAction: {\n        paddingRight: 40,\n      },\n      gutters: {\n        paddingRight: 16,\n        paddingLeft: 16,\n      },\n    },\n    MuiListItemSecondaryAction: {\n      root: {\n        right: 4,\n      },\n    },\n    // Use a more visible color scheme for tabs:\n    MuiTabs: {\n      root: {\n        height: 28,\n        minHeight: 28,\n        backgroundColor: tabBackgroundColor,\n      },\n    },\n    MuiTab: {\n      textColorPrimary: {\n        color: `${tabTextColor} !important`,\n        backgroundColor: tabBackgroundColor,\n        textTransform: 'none',\n        fontWeight: 600,\n        minWidth: 130, // Keep enough space for long terms not to wrap.\n        maxWidth: 350, // Give enough space on large mobiles without triggering a scroll.\n        letterSpacing: '0.3px',\n        '&.Mui-selected': {\n          color: `${tabSelectedTextColor} !important`,\n          backgroundColor: tabSelectedBackgroundColor,\n        },\n      },\n      root: {\n        paddingTop: 4,\n        paddingBottom: 4,\n        height: 28,\n        minHeight: 28,\n      },\n    },\n    MuiButtonBase: {\n      // Remove the web-ish \"pointer\" (hand) cursor from buttons\n      root: {\n        cursor: 'default',\n      },\n    },\n    // Reduce default margins on tables:\n    MuiTableCell: {\n      sizeSmall: {\n        paddingTop: 0,\n        paddingBottom: 0,\n      },\n    },\n    // Reduce default margins on Dialogs:\n    MuiDialogTitle: {\n      root: {\n        padding: 8,\n      },\n    },\n    MuiDialogContent: {\n      root: {\n        padding: 8,\n        '&:first-child': {\n          paddingTop: 8,\n        },\n      },\n    },\n    // Remove default margins on form controls (we already use a Grid)\n    MuiFormControl: {\n      marginDense: {\n        marginTop: 0,\n        marginBottom: 0,\n      },\n    },\n    MuiCheckbox: {\n      root: {\n        // Cancel padding around Checkbox\n        marginTop: -9,\n        marginBottom: -9,\n      },\n    },\n    MuiPaper: {\n      rounded: {\n        borderRadius: 8,\n      },\n    },\n    MuiButton: {\n      root: {\n        borderRadius: 8,\n        textTransform: 'none',\n        fontWeight: 600,\n        letterSpacing: '0.3px',\n      },\n      outlined: { borderColor: outlinedButtonBorderColor },\n      outlinedSizeSmall: {\n        fontSize: '12px',\n        fontWeight: 700,\n      },\n      containedSizeSmall: {\n        fontSize: '12px',\n        fontWeight: 700,\n      },\n      textSizeSmall: {\n        fontSize: '12px',\n        fontWeight: 700,\n      },\n    },\n    MuiSvgIcon: {\n      fontSizeSmall: {\n        fontSize: '15px',\n      },\n    },\n    // Make MuiAccordion much more compact than default.\n    // Some (or all) of these styles can be removed on MUIv5,\n    // which introduces `disableGutters` prop for compactness.\n    MuiAccordion: {\n      root: {\n        margin: '5px',\n        '&$expanded': {\n          margin: '5px',\n          '&:first-child': {\n            marginTop: 5,\n          },\n          '&:before': {\n            opacity: 1,\n          },\n        },\n        '&:not(:last-child)': {\n          borderBottom: 0,\n        },\n        '&:before': {\n          display: 'none',\n        },\n      },\n    },\n    MuiAccordionSummary: {\n      root: {\n        '&$expanded': {\n          minHeight: null,\n        },\n      },\n      content: {\n        margin: 0,\n        '&$expanded': {\n          margin: 0,\n        },\n      },\n      expandIcon: {\n        padding: 0,\n      },\n    },\n    MuiAccordionDetails: {\n      root: {\n        padding: 8,\n      },\n    },\n    MuiCardHeader: {\n      root: {\n        padding: 0,\n        flexGrow: 0,\n      },\n    },\n    MuiMenu: {\n      paper: {\n        backgroundColor: alternateCanvasLightBackgroundColor,\n      },\n    },\n    MuiAutocomplete: {\n      paper: {\n        backgroundColor: alternateCanvasBackgroundColor,\n      },\n    },\n  };\n}\n\nexport const smallScreenMuiOverrides = {\n  MuiTypography: {\n    h1: {\n      fontSize: '29px',\n      lineHeight: '32px',\n    },\n    h2: {\n      fontSize: '24px',\n      lineHeight: '32px',\n    },\n    h3: {\n      fontSize: '20px',\n      lineHeight: '30px', // Not a multiple of 8, but gives better result in dialog titles.\n    },\n    h4: {\n      fontSize: '16px',\n      lineHeight: '24px',\n    },\n    h5: {\n      fontSize: '14px',\n      lineHeight: '20px',\n    },\n    h6: {\n      // Make h6, used in Drawer title bars, use the same weight as tabs and mosaic windows\n      fontWeight: 600,\n    },\n    body1: {\n      fontSize: '14px',\n      lineHeight: '20px',\n      fontWeight: 400,\n      letterSpacing: '0.01em',\n    },\n    caption: {\n      fontSize: '12px',\n      lineHeight: '16px',\n      fontWeight: 400,\n      letterSpacing: '0.02em',\n    },\n  },\n};\n\nconst rtlDirection = { direction: 'rtl' };\nconst rtlOrder = { order: 100 };\n\nexport const rtlMuiOverrides = {\n  MuiTypography: {\n    root: rtlDirection,\n  },\n  MuiInput: {\n    root: rtlDirection,\n  },\n  MuiTab: {\n    root: rtlDirection,\n  },\n  MuiButton: {\n    label: rtlDirection,\n  },\n  MuiSvgIcon: {\n    root: rtlOrder,\n  },\n  MuiFormControlLabel: {\n    root: rtlDirection,\n  },\n  MuiTextField: {\n    root: rtlDirection,\n  },\n};\n\nfunction getMuiThemeModeFromMainColor(color: string, contrastText: string) {\n  return {\n    light: lighten(color, 0.05),\n    main: color,\n    dark: darken(color, 0.05),\n    contrastText: contrastText,\n  };\n}\n\nfunction getMuiThemeColors(styles: any) {\n  // If there is no dark variant on the primary color, we consider:\n  // - light and dark variants have to be computed from the main color\n  // - the theme will use Material UI default values for Success, Info, Warning and Error colors.\n  if (!styles['ThemePrimaryDark'])\n    return {\n      primary: getMuiThemeModeFromMainColor(\n        styles['ThemePrimaryColor'],\n        styles['ThemePrimaryTextContrastColor']\n      ),\n      secondary: getMuiThemeModeFromMainColor(\n        styles['ThemeSecondaryColor'],\n        styles['ThemeSecondaryTextContrastColor']\n      ),\n    };\n\n  return {\n    primary: {\n      light: styles['ThemePrimaryLight'],\n      main: styles['ThemePrimaryColor'],\n      dark: styles['ThemePrimaryDark'],\n      contrastText: styles['ThemePrimaryTextContrastColor'],\n    },\n    secondary: {\n      light: styles['ThemeSecondaryLight'],\n      main: styles['ThemeSecondaryColor'],\n      dark: styles['ThemeSecondaryDark'],\n      contrastText: styles['ThemeSecondaryTextContrastColor'],\n    },\n    success: {\n      light: styles['ThemeSuccessLight'],\n      main: styles['ThemeSuccessColor'],\n      dark: styles['ThemeSuccessDark'],\n      contrastText: styles['ThemeSuccessTextContrastColor'],\n    },\n    info: {\n      light: styles['ThemeInfoLight'],\n      main: styles['ThemeInfoColor'],\n      dark: styles['ThemeInfoDark'],\n      contrastText: styles['ThemeInfoTextContrastColor'],\n    },\n    warning: {\n      light: styles['ThemeWarningLight'],\n      main: styles['ThemeWarningColor'],\n      dark: styles['ThemeWarningDark'],\n      contrastText: styles['ThemeWarningTextContrastColor'],\n    },\n    error: {\n      light: styles['ThemeErrorLight'],\n      main: styles['ThemeErrorColor'],\n      dark: styles['ThemeErrorDark'],\n      contrastText: styles['ThemeErrorTextContrastColor'],\n    },\n  };\n}\n\nexport function createGdevelopTheme({\n  styles,\n  rootClassNameIdentifier,\n  paletteType,\n  gdevelopIconsCSSFilter,\n}: {\n  styles: any,\n  rootClassNameIdentifier: string,\n  paletteType: string,\n  gdevelopIconsCSSFilter: ?string,\n}) {\n  return {\n    gdevelopTheme: {\n      palette: {\n        type: paletteType,\n        canvasColor: styles['ThemeSurfaceCanvasBackgroundColor'],\n        alternateCanvasColor:\n          styles['ThemeSurfaceAlternateCanvasBackgroundColor'],\n        primary: styles['ThemePrimaryColor'],\n        secondary: styles['ThemeSecondaryColor'],\n      },\n      message: {\n        warning: styles['ThemeMessageWarningColor'],\n        error: styles['ThemeMessageErrorColor'],\n        valid: styles['ThemeMessageValidColor'],\n      },\n      titlebar: {\n        backgroundColor: styles['ThemeSurfaceTitlebarBackgroundColor'],\n      },\n      toolbar: {\n        backgroundColor: styles['ThemeSurfaceToolbarBackgroundColor'],\n        separatorColor: styles['ThemeToolbarSeparatorColor'],\n      },\n      text: {\n        color: {\n          primary: styles['ThemeTextDefaultColor'],\n          secondary: styles['ThemeTextSecondaryColor'],\n        },\n        highlighted: {\n          backgroundColor: styles['ThemeTextHighlightedBackgroundColor'],\n        },\n      },\n      linearProgress: {\n        color: {\n          complete: styles['ThemeLinearProgressColorComplete'],\n          incomplete: styles['ThemeLinearProgressColorIncomplete'],\n        },\n      },\n      home: {\n        header: {\n          backgroundColor: styles['ThemeHomeHeaderBackgroundColor'],\n        },\n        separator: {\n          color: styles['ThemeHomeSeparatorColor'],\n        },\n      },\n      dialog: {\n        backgroundColor: styles['ThemeDialogBackgroundColor'],\n        separator: styles['ThemeDialogSeparatorColor'],\n      },\n      link: {\n        color: {\n          default: styles['ThemeLinkColor'],\n          hover: styles['ThemeLinkHoverColor'],\n        },\n      },\n      switch: {\n        trackColor: {\n          default: styles['ThemeSwitchDefaultTrackColor'],\n          toggled: styles['ThemeSwitchToggledTrackColor'],\n          disabled: styles['ThemeSwitchDisabledTrackColor'],\n        },\n        thumbColor: {\n          default: styles['ThemeSwitchDefaultThumbColor'],\n          toggled: styles['ThemeSwitchToggledThumbColor'],\n          disabled: styles['ThemeSwitchDisabledThumbColor'],\n        },\n      },\n      tabs: {\n        indicator: {\n          backgroundColor: styles['ThemeTabsIndicatorColor'],\n        },\n        separator: {\n          color: styles['ThemeTabsSeparatorColor'],\n        },\n      },\n      dropIndicator: {\n        canDrop: styles['ThemeDropIndicatorCanDropColor'],\n        cannotDrop: styles['ThemeDropIndicatorCannotDropColor'],\n        border: styles['ThemeDropIndicatorBorderColor'],\n      },\n      example: {\n        difficulty: {\n          color: {\n            simple: styles['ThemeExampleDifficultyColorSimple'],\n            advanced: styles['ThemeExampleDifficultyColorAdvanced'],\n            expert: styles['ThemeExampleDifficultyColorExpert'],\n          },\n        },\n      },\n      closableTabs: {\n        fontFamily: styles['GdevelopModernFontFamily'],\n        backgroundColor: styles['ThemeClosableTabsDefaultBackgroundColor'],\n        textColor: styles['ThemeClosableTabsDefaultColor'],\n        selectedBackgroundColor:\n          styles['ThemeClosableTabsSelectedBackgroundColor'],\n        selectedTextColor: styles['ThemeClosableTabsSelectedColor'],\n        selectedBorderColor: styles['ThemeClosableTabsSelectedBorderColor'],\n        ...closeableTabSizeOverrides,\n      },\n      imagePreview: {\n        backgroundFilter: styles['ThemeImagePreviewBackgroundFilter'],\n        borderColor: styles['ThemeImagePreviewBorderColor'],\n        frameBorderColor: styles['ThemeImagePreviewFrameBorderColor'],\n      },\n      list: {\n        itemsBackgroundColor:\n          styles['ThemeSurfaceAlternateCanvasLightBackgroundColor'],\n      },\n      searchBar: {\n        backgroundColor: {\n          default: styles['ThemeSearchBarDefaultBackgroundColor'],\n          disabled: styles['ThemeSearchBarDisabledBackgroundColor'],\n        },\n        textColor: {\n          default: styles['ThemeSearchBarDefaultTextColor'],\n          focused: styles['ThemeSearchBarFocusedTextColor'],\n          disabled: styles['ThemeSearchBarDisabledTextColor'],\n        },\n        borderColor: {\n          hovered: styles['ThemeSearchBarHoveredBorderColor'],\n          focused: styles['ThemeSearchBarFocusedBorderColor'],\n        },\n      },\n      listItem: {\n        groupBackgroundColor: styles['ThemeSurfaceWindowBackgroundColor'],\n        groupTextColor: styles['ThemeListItemGroupTextColor'],\n        deprecatedGroupTextColor:\n          styles['ThemeListItemGroupTextDeprecatedColor'],\n        separatorColor: styles['ThemeListItemSeparatorColor'],\n        selectedBackgroundColor: styles['ThemeSelectionBackgroundColor'],\n        selectedTextColor: styles['ThemeSelectionColor'],\n        rightIconColor: styles['ThemeRightIconColor'],\n        selectedRightIconColor: styles['ThemeRightIconColor'],\n        errorTextColor: styles['ThemeListItemErrorColor'],\n        warningTextColor: styles['ThemeListItemWarningColor'],\n        selectedErrorBackgroundColor: styles['ThemeListItemErrorColor'],\n        selectedWarningBackgroundColor: styles['ThemeListItemWarningColor'],\n      },\n      paper: {\n        backgroundColor: {\n          dark: styles['ThemeSurfaceCanvasBackgroundColor'],\n          medium: styles['ThemeSurfaceAlternateCanvasBackgroundColor'],\n          light: styles['ThemeSurfaceAlternateCanvasLightBackgroundColor'],\n        },\n      },\n      emptyMessage: {\n        shadowColor: styles['ThemeMessageEmptyShadowColor'],\n      },\n      iconButton: {\n        selectedBackgroundColor:\n          styles['ThemeIconButtonSelectedBackgroundColor'],\n        selectedColor: styles['ThemeIconButtonSelectedColor'],\n      },\n      ...getRootClassNames(rootClassNameIdentifier),\n      logo: {\n        src: 'res/GD-logo-big.png',\n      },\n      gdevelopIconsCSSFilter,\n      chart: {\n        fontFamily: styles['GdevelopModernFontFamily'],\n        dataColor1:\n          paletteType === 'dark'\n            ? lighten(styles['ThemePrimaryColor'], 0.3)\n            : styles['ThemePrimaryColor'],\n        textColor: styles['ThemeTextDefaultColor'],\n        gridColor: styles['ThemeTextDisabledColor'],\n      },\n    },\n    muiThemeOptions: {\n      typography: {\n        fontFamily: styles['GdevelopModernFontFamily'],\n      },\n      palette: {\n        type: paletteType,\n        common: {\n          black: styles['ThemePaletteBlack'],\n          white: styles['ThemePaletteWhite'],\n        },\n        background: {\n          paper: styles['ThemeSurfaceCanvasBackgroundColor'],\n          default: styles['ThemeSurfaceWindowBackgroundColor'],\n          alternate: styles['ThemeSurfaceAlternateCanvasBackgroundColor'],\n        },\n        ...getMuiThemeColors(styles),\n        text: {\n          primary: styles['ThemeTextDefaultColor'],\n          secondary: styles['ThemeTextSecondaryColor'],\n          disabled: styles['ThemeTextDisabledColor'],\n          hint: styles['ThemeTextSecondaryColor'],\n        },\n      },\n      overrides: getMuiOverrides({\n        tabTextColor: styles['ThemeTabsTextColor'],\n        tabSelectedTextColor: styles['ThemeTabsSelectedTextColor'],\n        tabBackgroundColor: styles['ThemeTabsBackgroundColor'],\n        tabSelectedBackgroundColor: styles['ThemeTabsSelectedBackgroundColor'],\n        inputBorderBottomColor: styles['InputBorderBottomColor'],\n        appBarBackgroundColor: styles['MosaicToolbarBackgroundColor'],\n        appBarTextColor: styles['MosaicTitleColor'],\n        iconColor: styles['ThemeTextDefaultColor'],\n        outlinedButtonBorderColor: styles['ThemeTextDefaultColor'],\n        alternateCanvasBackgroundColor:\n          styles['ThemeSurfaceAlternateCanvasBackgroundColor'],\n        alternateCanvasLightBackgroundColor:\n          styles['ThemeSurfaceAlternateCanvasLightBackgroundColor'],\n      }),\n    },\n  };\n}\n","// @flow\n\nconst rtlLanguages = new Set([\n  // Hebrew scripts:\n  'he_IL' /* Hebrew */,\n\n  // Arabic scripts:\n  'ar_SA' /* Arabic */,\n  'az_AZ' /* Azerbaijani */,\n  'ms_MY' /* Malay */,\n  'fa_IR' /* Persian */,\n  'ur_PK' /* Urdu */,\n]);\n\nexport function isLtr(name: string): boolean {\n  return !rtlLanguages.has(name);\n}\n\n// TODO: Implement full support of RTL languages by adding dir=\"ltr\"\n// to the `body` element. Doing so will revert most layouts in the app,\n// which is fine. There are a few things to take care of:\n// - ImagePreview (already fixed),\n// - TextFieldWithButtonLayout (margins on the button),\n// - ColorField (margins/positioning off the button),\n// - EditorMosaic (i.e: react-mosaic) has issues with the positioning of the resize handles,\n// - and anything else using absolute positioning.\n","// @flow\nimport { createMuiTheme } from '@material-ui/core/styles';\nimport { isLtr } from '../../Utils/i18n/RtlLanguages';\nimport DefaultLightTheme from './DefaultLightTheme';\nimport { type WidthType } from '../Reponsive/ResponsiveWindowMeasurer';\nimport { themes } from './ThemeRegistry';\nimport { rtlMuiOverrides, smallScreenMuiOverrides } from './CreateTheme';\n\n// Static stylesheets - always imported.\nimport 'react-virtualized/styles.css';\nimport './Global/Animation.css';\nimport './Global/EventsSheet.css';\nimport './Global/Snackbar.css';\nimport './Global/Markdown.css';\nimport './Global/Scrollbar.css';\nimport './Global/Mosaic.css';\nimport './Global/Table.css';\nimport './Global/Font.css';\n\ntype Theme = $Exact<typeof DefaultLightTheme>;\nexport type GDevelopTheme = $PropertyType<Theme, 'gdevelopTheme'>;\ntype FullTheme = {| gdevelopTheme: GDevelopTheme, muiTheme: Object |};\nconst defaultThemeName = 'GDevelop default Dark';\n\nexport function getFullTheme({\n  themeName,\n  language,\n  windowWidth,\n}: {|\n  themeName: string,\n  language: string,\n  windowWidth: WidthType,\n|}): FullTheme {\n  let theme: Theme = themes[themeName];\n\n  if (!theme) {\n    console.warn(\n      `Theme '${themeName}' is unavailable; '${defaultThemeName}' is used`\n    );\n    theme = themes[defaultThemeName];\n  }\n\n  const ltr = isLtr(language);\n  const { gdevelopTheme, muiThemeOptions } = theme;\n  return {\n    gdevelopTheme,\n    muiTheme: createMuiTheme(\n      muiThemeOptions,\n      {\n        ...(windowWidth === 'small'\n          ? { overrides: smallScreenMuiOverrides }\n          : {}),\n      },\n      { ...(ltr ? {} : { overrides: rtlMuiOverrides }) }\n    ),\n  };\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nconst PUBLIC_URL = process.env.PUBLIC_URL;\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      console.log(\n        `The origin in PUBLIC_URL (${\n          publicUrl.origin\n        }) is different than the current origin (${\n          window.location.origin\n        }) - Service Worker disabled`\n      );\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  } else {\n    console.log(\n      'Development build (or unsupported browser) - Service Worker disabled'\n    );\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","// @flow\nimport 'element-closest';\nimport React, { Component, type Element } from 'react';\nimport ReactDOM from 'react-dom';\nimport Authentication from './Utils/GDevelopServices/Authentication';\nimport {\n  sendProgramOpening,\n  installAnalyticsEvents,\n} from './Utils/Analytics/EventSender';\nimport { register } from './serviceWorker';\nimport './UI/icomoon-font.css'; // Styles for Icomoon font.\nimport optionalRequire from './Utils/OptionalRequire';\nimport { loadScript } from './Utils/LoadScript';\nimport { showErrorBox } from './UI/Messages/MessageBox';\nimport VersionMetadata from './Version/VersionMetadata';\nimport { loadPreferencesFromLocalStorage } from './MainFrame/Preferences/PreferencesProvider';\nimport { getFullTheme } from './UI/Theme';\n\nconst GD_STARTUP_TIMES = global.GD_STARTUP_TIMES || [];\n\n// No i18n in this file\n\nconst electron = optionalRequire('electron');\n\n// Use the user preferred theme to define the loading screen color.\n\nlet color = 'f0f0f0';\n\ntry {\n  const values = loadPreferencesFromLocalStorage();\n  if (values && values.themeName) {\n    const theme = getFullTheme({\n      themeName: values.themeName,\n      language: 'en', // language is not important here as we only look for a color.\n      windowWidth: 'small', // window size is not important as we only look for a color.\n    });\n    color = theme.muiTheme.palette.background.default;\n  }\n} catch {}\n\ndocument.getElementsByTagName('body')[0].style.backgroundColor = color;\n\nconst styles = {\n  loadingMessage: {\n    position: 'absolute',\n    top: 'calc(50% + 80px)',\n    left: 15,\n    right: 15,\n    fontSize: 20,\n    fontFamily: 'sans-serif',\n    color: 'darkgray',\n    textAlign: 'center',\n    animation:\n      'text-focus-in 0.5s cubic-bezier(0.215, 0.610, 0.355, 1.000) both',\n  },\n};\n\ntype State = {|\n  loadingMessage: string,\n  App: ?Element<*>,\n|};\n\nclass Bootstrapper extends Component<{}, State> {\n  state = {\n    loadingMessage: 'Loading the editor...',\n    App: null,\n  };\n  authentication = new Authentication();\n\n  componentDidMount() {\n    installAnalyticsEvents();\n    GD_STARTUP_TIMES.push(['bootstrapperComponentDidMount', performance.now()]);\n\n    // Load GDevelop.js, ensuring a new version is fetched when the version changes.\n    loadScript(\n      `./libGD.js?cache-buster=${VersionMetadata.versionWithHash}`\n    ).then(() => {\n      GD_STARTUP_TIMES.push(['libGDLoadedTime', performance.now()]);\n      const initializeGDevelopJs = global.initializeGDevelopJs;\n      if (!initializeGDevelopJs) {\n        this.handleEditorLoadError(\n          new Error('Missing initializeGDevelopJs in libGD.js')\n        );\n        return;\n      }\n\n      initializeGDevelopJs({\n        // Override the resolved URL for the .wasm file,\n        // to ensure a new version is fetched when the version changes.\n        locateFile: (path: string, prefix: string) => {\n          return (\n            prefix + path + `?cache-buster=${VersionMetadata.versionWithHash}`\n          );\n        },\n      }).then(gd => {\n        global.gd = gd;\n        GD_STARTUP_TIMES.push([\n          'libGD.js initialization done',\n          performance.now(),\n        ]);\n        sendProgramOpening();\n\n        if (electron) {\n          import(/* webpackChunkName: \"local-app\" */ './LocalApp')\n            .then(module =>\n              this.setState({\n                App: module.create(this.authentication),\n                loadingMessage: '',\n              })\n            )\n            .catch(this.handleEditorLoadError);\n        } else {\n          import(/* webpackChunkName: \"browser-app\" */ './BrowserApp')\n            .then(module =>\n              this.setState({\n                App: module.create(this.authentication),\n                loadingMessage: '',\n              })\n            )\n            .catch(this.handleEditorLoadError);\n        }\n      });\n    }, this.handleEditorLoadError);\n  }\n\n  handleEditorLoadError = rawError => {\n    const message = !electron\n      ? 'Please check your internet connectivity, close the tab and reopen it.'\n      : 'Please restart the application or reinstall the latest version if the problem persists.';\n\n    this.setState({\n      loadingMessage: `Unable to load GDevelop. ${message}`,\n    });\n    showErrorBox({\n      message: `Unable to load GDevelop. ${message}`,\n      rawError,\n      errorId: 'editor-load-error',\n    });\n  };\n\n  render() {\n    const { App, loadingMessage } = this.state;\n\n    return (\n      <React.Fragment>\n        {App}\n        {loadingMessage && (\n          <div style={styles.loadingMessage}>{loadingMessage}</div>\n        )}\n      </React.Fragment>\n    );\n  }\n}\n\nconst rootElement = document.getElementById('root');\nif (rootElement) {\n  GD_STARTUP_TIMES.push(['reactDOMRenderCall', performance.now()]);\n  ReactDOM.render(<Bootstrapper />, rootElement);\n} else console.error('No root element defined in index.html');\n\n// registerServiceWorker();\nregister();\n","// @flow\nimport * as React from 'react';\nimport optionalRequire from './OptionalRequire';\nimport URLSearchParams from 'url-search-params';\nimport { isWindows } from './Platform';\nimport debounce from 'lodash/debounce';\nimport { hexToRGBColor, isLightRgbColor } from './ColorTransformer';\nconst electron = optionalRequire('electron');\nconst remote = optionalRequire('@electron/remote');\nconst shell = electron ? electron.shell : null;\nconst dialog = remote ? remote.dialog : null;\nconst ipcRenderer = electron ? electron.ipcRenderer : null;\n\nexport type AppArguments = { [string]: any };\ntype YesNoCancelDialogChoice = 'yes' | 'no' | 'cancel';\n\n/**\n * The name of the key, in AppArguments, containing the array of\n * positional arguments (i.e: `[\"file1\", \"file2\"]` in `ls file1 file2`).\n */\nexport const POSITIONAL_ARGUMENTS_KEY = '_';\n\nlet currentTitleBarColor: ?string = null;\n\n/**\n * Listen to the changes to the window controls provided by the operating system:\n *\n * - An installed PWA can have window controls displayed as overlay. If supported,\n * we set up a listener to detect any change and notify the caller.\n * - On Electron, the window controls are always integrated in the app - so this does nothing.\n */\nexport const useWindowControlsOverlayWatcher = ({\n  onChanged,\n}: {|\n  onChanged: () => void,\n|}) => {\n  // $FlowFixMe - this API is not handled by Flow.\n  const { windowControlsOverlay } = navigator;\n\n  React.useEffect(\n    () => {\n      let listenerCallback = null;\n      if (windowControlsOverlay) {\n        listenerCallback = debounce(() => {\n          onChanged();\n        }, 50);\n        windowControlsOverlay.addEventListener(\n          'geometrychange',\n          listenerCallback\n        );\n      }\n      return () => {\n        if (listenerCallback) {\n          windowControlsOverlay.removeEventListener(\n            'geometrychange',\n            listenerCallback\n          );\n        }\n      };\n    },\n    [onChanged, windowControlsOverlay]\n  );\n};\n\n/**\n * Various utilities related to the app window management.\n */\nexport default class Window {\n  static setTitle(title: string) {\n    if (remote) {\n      try {\n        const browserWindow = remote.getCurrentWindow();\n        browserWindow.setTitle(title);\n      } catch (err) {\n        // This rarely, but sometimes happen that setTitle throw.\n        // Catch the error in the hope that things will continue to work.\n        console.error(\n          'Caught an error while calling browserWindow.setTitle',\n          err\n        );\n      }\n    } else {\n      document.title = title;\n    }\n  }\n\n  static setTitleBarColor(newColor: string) {\n    if (currentTitleBarColor === newColor) {\n      // Avoid potentially expensive DOM query/modification if no changes needed.\n      return;\n    }\n\n    if (ipcRenderer) {\n      // Update the window controls colors on Windows.\n      ipcRenderer.invoke('titlebar-set-overlay-options', {\n        color: newColor,\n        symbolColor: isLightRgbColor(hexToRGBColor(newColor))\n          ? '#000000'\n          : '#ffffff',\n      });\n      currentTitleBarColor = newColor;\n    }\n\n    // Update the PWA titlebar/controls color (if it's an installed PWA).\n    const metaElement = document.querySelector('meta[name=\"theme-color\"]');\n    if (metaElement) {\n      metaElement.setAttribute('content', newColor);\n      currentTitleBarColor = newColor;\n    }\n  }\n\n  static setBounds(x: number, y: number, width: number, height: number) {\n    if (!remote) return;\n\n    let scaleFactor = 1;\n    if (isWindows()) {\n      // setBounds need to be called with the scale factor of the screen\n      // on Windows.\n      const rect = { x, y, width, height };\n      const display = remote.screen.getDisplayMatching(rect);\n      scaleFactor = display.scaleFactor;\n    }\n\n    const browserWindow = remote.getCurrentWindow();\n    try {\n      browserWindow.setBounds({\n        x: Math.round(x / scaleFactor),\n        y: Math.round(y / scaleFactor),\n        width: Math.round(width / scaleFactor),\n        height: Math.round(height / scaleFactor),\n      });\n    } catch (err) {\n      console.warn('Unable to change window bounds', err);\n    }\n    this.show();\n  }\n\n  static quit() {\n    if (!remote) return;\n\n    const electronApp = remote.app;\n    electronApp.quit();\n  }\n\n  static show() {\n    if (!remote) return;\n\n    const browserWindow = remote.getCurrentWindow();\n    browserWindow.showInactive();\n    browserWindow.setAlwaysOnTop(true);\n  }\n\n  static hide(forceHide: boolean = false) {\n    if (!remote) return;\n\n    const browserWindow = remote.getCurrentWindow();\n    if (!browserWindow.isFocused() || forceHide) {\n      browserWindow.setAlwaysOnTop(false);\n      browserWindow.hide();\n    }\n  }\n\n  static onFocus(cb: () => void) {\n    if (!remote) return;\n\n    return remote.getCurrentWindow().on('focus', cb);\n  }\n\n  static onBlur(cb: () => void) {\n    if (!remote) return;\n\n    return remote.getCurrentWindow().on('blur', cb);\n  }\n\n  static onClose(cb: () => void) {\n    if (!remote) return;\n\n    return remote.getCurrentWindow().on('close', cb);\n  }\n\n  /**\n   * Return the arguments passed to the IDE, either from Electron\n   * or from the web-app URL. The resulting object will have a key \"_\"\n   * containing an array of string, representing all the arguments that\n   * didn't have an option associated with them (see https://github.com/substack/minimist).\n   * (On the web-app, this is emulated using the \"project\" argument).\n   */\n  static getArguments(): AppArguments {\n    if (remote) {\n      return remote.getGlobal('args');\n    }\n\n    const argumentsObject = {};\n    const params = new URLSearchParams(window.location.search);\n    params.forEach((value, name) => (argumentsObject[name] = value));\n\n    // Emulate the minimist behavior of putting the positional arguments\n    // in \"_\".\n    argumentsObject[POSITIONAL_ARGUMENTS_KEY] = argumentsObject.project\n      ? [argumentsObject.project]\n      : [];\n\n    return argumentsObject;\n  }\n\n  /**\n   * On web, removes a list of query params from the URL.\n   */\n  static removeArguments(argumentNames: string[]) {\n    // On Electron, we don't have a way to modify global args.\n    if (remote) return;\n\n    const url = new URL(window.location.href);\n    for (const argumentName of argumentNames) {\n      url.searchParams.delete(argumentName);\n    }\n    window.history.replaceState({}, document.title, url.toString());\n  }\n\n  static addArguments(argumentNamesAndValues: { [key: string]: string }) {\n    // On Electron, we don't have a way to modify global args.\n    if (remote) return;\n\n    const url = new URL(window.location.href);\n    for (const argumentName in argumentNamesAndValues) {\n      url.searchParams.set(argumentName, argumentNamesAndValues[argumentName]);\n    }\n    window.history.replaceState({}, document.title, url.toString());\n  }\n\n  static showMessageBox(\n    message: string,\n    type?: 'none' | 'info' | 'error' | 'question' | 'warning'\n  ) {\n    if (!dialog || !electron) {\n      alert(message);\n      return;\n    }\n\n    const browserWindow = remote.getCurrentWindow();\n    dialog.showMessageBoxSync(browserWindow, {\n      message,\n      type,\n      buttons: ['OK'],\n    });\n  }\n\n  static showYesNoCancelDialog(\n    message: string,\n    type?: 'none' | 'info' | 'error' | 'question' | 'warning'\n  ): YesNoCancelDialogChoice {\n    if (!dialog || !electron) {\n      // TODO: Find a way to display an alert with 3 buttons (not possible with the 3 native js method confirm, alert and prompt)\n      // eslint-disable-next-line\n      const answer = confirm(message);\n      if (answer) return 'yes';\n      return 'no';\n    }\n\n    const browserWindow = remote.getCurrentWindow();\n    const answer = dialog.showMessageBoxSync(browserWindow, {\n      message,\n      type,\n      cancelId: 1,\n      buttons: ['Yes', 'Cancel', 'No'], // TODO: Check on Windows and Linux how these buttons are displayed.\n      // On Mac, they are displayed vertically in the order Yes, No and Cancel from top to bottom.\n    });\n    switch (answer) {\n      case 0:\n        return 'yes';\n      case 1:\n        return 'cancel';\n      case 2:\n        return 'no';\n      default:\n        return 'cancel';\n    }\n  }\n\n  static showConfirmDialog(\n    message: string,\n    type?: 'none' | 'info' | 'error' | 'question' | 'warning'\n  ) {\n    if (!dialog || !electron) {\n      // eslint-disable-next-line\n      return confirm(message);\n    }\n\n    const browserWindow = remote.getCurrentWindow();\n    const answer = dialog.showMessageBoxSync(browserWindow, {\n      message,\n      type,\n      cancelId: 1,\n      buttons: ['OK', 'Cancel'],\n    });\n    return answer === 0;\n  }\n\n  static setUpContextMenu() {\n    const textEditorSelectors = 'textarea, input, [contenteditable=\"true\"]';\n\n    if (electron) {\n      // `remote.require` since `Menu` is a main-process module.\n      var buildEditorContextMenu = remote.require(\n        'electron-editor-context-menu'\n      );\n\n      window.addEventListener('contextmenu', function(e) {\n        // Only show the context menu in text editors.\n        if (!e.target.closest(textEditorSelectors)) return;\n\n        var menu = buildEditorContextMenu();\n\n        // The 'contextmenu' event is emitted after 'selectionchange' has fired but possibly before the\n        // visible selection has changed. Try to wait to show the menu until after that, otherwise the\n        // visible selection will update after the menu dismisses and look weird.\n        setTimeout(function() {\n          menu.popup({ window: remote.getCurrentWindow() });\n        }, 30);\n      });\n    } else if (document) {\n      document.addEventListener('contextmenu', function(e: any) {\n        // Only show the context menu in text editors.\n        if (!e.target.closest(textEditorSelectors)) {\n          e.preventDefault();\n          return false;\n        }\n\n        return true;\n      });\n    }\n  }\n\n  static openExternalURL(url: string) {\n    if (!url) return;\n\n    if (electron) {\n      if (shell) shell.openExternal(url);\n      return;\n    }\n\n    window.open(url, '_blank');\n  }\n\n  static getOrientation(): 'portrait' | 'landscape' {\n    try {\n      return window.screen.orientation.type.split('-')[0];\n    } catch (error) {\n      console.warn('An error occurred when reading screen orientation', error);\n      return 'landscape';\n    }\n  }\n\n  static hasMainMenu() {\n    return !!electron;\n  }\n\n  static isDev(): boolean {\n    if (!electron || !remote)\n      return !process.env.NODE_ENV || process.env.NODE_ENV === 'development';\n\n    try {\n      const isDev = remote.require('electron-is').dev();\n      return isDev;\n    } catch (err) {\n      // This rarely, but sometimes happen that require throw (\"missing remote object\").\n      // Catch the error in the hope that things will continue to work.\n      console.error(\n        \"Caught an error while calling remote.require('electron-is').dev\",\n        err\n      );\n      return false; // Assume we're not in development mode. Might be incorrect but better not consider production as development.\n    }\n  }\n}\n","// @flow\nimport Window from '../Window';\n\nconst isDev = Window.isDev();\n\nexport const GDevelopGamePreviews = {\n  baseUrl: `https://game-previews.gdevelop.io/`,\n};\n\nexport const GDevelopGamesPlatform = {\n  getInstantBuildUrl: (buildId: string) =>\n    isDev\n      ? `https://gd.games/instant-builds/${buildId}?dev=true`\n      : `https://gd.games/instant-builds/${buildId}`,\n  getGameUrl: (gameId: string) =>\n    isDev\n      ? `https://gd.games/games/${gameId}?dev=true`\n      : `https://gd.games/games/${gameId}`,\n  getGameUrlWithSlug: (userSlug: string, gameSlug: string) =>\n    isDev\n      ? `https://gd.games/${userSlug.toLowerCase()}/${gameSlug.toLowerCase()}?dev=true`\n      : `https://gd.games/${userSlug.toLowerCase()}/${gameSlug.toLowerCase()}`,\n  getUserPublicProfileUrl: (userId: string, username: ?string) =>\n    username\n      ? `https://gd.games/${username}${isDev ? '?dev=true' : ''}`\n      : `https://gd.games/user/${userId}${isDev ? '?dev=true' : ''}`,\n};\n\nexport const GDevelopFirebaseConfig = {\n  apiKey: 'AIzaSyAnX9QMacrIl3yo4zkVFEVhDppGVDDewBc',\n  authDomain: 'gdevelop-services.firebaseapp.com',\n  databaseURL: 'https://gdevelop-services.firebaseio.com',\n  projectId: 'gdevelop-services',\n  storageBucket: 'gdevelop-services.appspot.com',\n  messagingSenderId: '44882707384',\n};\n\nexport const GDevelopBuildApi = {\n  baseUrl: isDev\n    ? 'https://api-dev.gdevelop.io/build'\n    : 'https://api.gdevelop.io/build',\n};\n\nexport const GDevelopUsageApi = {\n  baseUrl: isDev\n    ? 'https://api-dev.gdevelop.io/usage'\n    : 'https://api.gdevelop.io/usage',\n};\n\nexport const GDevelopReleaseApi = {\n  baseUrl: isDev\n    ? 'https://api-dev.gdevelop.io/release'\n    : 'https://api.gdevelop.io/release',\n};\n\nexport const GDevelopAssetApi = {\n  baseUrl: isDev\n    ? 'https://api-dev.gdevelop.io/asset'\n    : 'https://api.gdevelop.io/asset',\n};\n\nexport const GDevelopAnalyticsApi = {\n  baseUrl: isDev\n    ? 'https://api-dev.gdevelop.io/analytics'\n    : 'https://api.gdevelop.io/analytics',\n};\n\nexport const GDevelopGameApi = {\n  baseUrl: isDev\n    ? 'https://api-dev.gdevelop.io/game'\n    : 'https://api.gdevelop.io/game',\n};\n\nexport const GDevelopUserApi = {\n  baseUrl: isDev\n    ? 'https://api-dev.gdevelop.io/user'\n    : 'https://api.gdevelop.io/user',\n};\n\nexport const GDevelopPlayApi = {\n  baseUrl: isDev\n    ? 'https://api-dev.gdevelop.io/play'\n    : 'https://api.gdevelop.io/play',\n};\n\nexport const GDevelopShopApi = {\n  baseUrl: isDev\n    ? 'https://api-dev.gdevelop.io/shop'\n    : 'https://api.gdevelop.io/shop',\n};\n\nexport const GDevelopProjectApi = {\n  baseUrl: isDev\n    ? 'https://api-dev.gdevelop.io/project'\n    : 'https://api.gdevelop.io/project',\n};\n\nexport const GDevelopGenerationApi = {\n  baseUrl: isDev\n    ? 'https://api-dev.gdevelop.io/generation'\n    : 'https://api.gdevelop.io/generation',\n};\n\nexport const GDevelopProjectResourcesStorage = {\n  baseUrl: isDev\n    ? 'https://project-resources-dev.gdevelop.io'\n    : 'https://project-resources.gdevelop.io',\n};\n\nexport const GDevelopPrivateAssetsStorage = {\n  baseUrl: isDev\n    ? 'https://private-assets-dev.gdevelop.io'\n    : 'https://private-assets.gdevelop.io',\n};\n\nexport const GDevelopPublicAssetResourcesStorageBaseUrl =\n  'https://asset-resources.gdevelop.io';\nexport const GDevelopPublicAssetResourcesStorageStagingBaseUrl =\n  'https://asset-resources.gdevelop.io/staging';\n","// @flow\n\nimport LocalesMetadata from '../locales/LocalesMetadata';\n\n/**\n * Set language in the few main tags of importance\n *\n * @param language as used in i18n with `_`, ex: `en`, `fr_FR`, etc.\n */\nexport const setLanguageInDOM = (language: string): void => {\n  const formattedLanguage = language.replace('_', '-');\n\n  // <html lang=... xml:lang=... >\n  const htmlTag = document.getElementsByTagName('html')[0];\n  htmlTag.setAttribute('lang', formattedLanguage);\n  htmlTag.setAttribute('xml:lang', formattedLanguage);\n\n  // <meta httpEquiv=\"Content-Language\" content=... >\n  let metaContentLanguage = document.querySelector(\n    'meta[http-equiv=\"Content-Language\"]'\n  );\n  if (metaContentLanguage) {\n    metaContentLanguage.setAttribute('content', formattedLanguage);\n  } else {\n    metaContentLanguage = document.createElement('meta');\n    metaContentLanguage.setAttribute('http-equiv', 'Content-Language');\n    metaContentLanguage.setAttribute('content', formattedLanguage);\n    document.getElementsByTagName('head')[0].appendChild(metaContentLanguage);\n  }\n};\n\nexport const getBrowserLanguageOrLocale = (): string => {\n  return navigator.language.replace('-', '_');\n};\n\nconst getLanguageOnlyFromLanguageOrLocale = (\n  languageOrLocale: string\n): ?string => {\n  return languageOrLocale.split('_')[0] || null;\n};\n\n/**\n * Selects the nearest available language with a minimum translation ratio.\n *\n * @param languageOrLocale\n * @param defaultLanguage Language to be used when no good enough locale/language is found\n */\nexport const selectLanguageOrLocale = (\n  languageOrLocale: string,\n  defaultLanguage: string\n): string => {\n  const translationRatioThreshold = 0.7;\n  const languageMetadata = LocalesMetadata.filter(\n    localeMetadata => localeMetadata.languageCode === languageOrLocale\n  );\n  // If we have a good-enough translation for the exact language or locale, we use it.\n  if (languageMetadata.length > 0) {\n    if (languageMetadata[0].translationRatio > translationRatioThreshold) {\n      return languageOrLocale;\n    } else {\n      // If the translation is not good enough, don't even try to find another translation\n      // by language (because if the exact locale exists, it means the locale is important).\n      // So return the default language.\n      return defaultLanguage;\n    }\n  }\n\n  // If we can't find a translation for the exact language or locale,\n  // try to find a (good enough) translation for the language only.\n  const language = getLanguageOnlyFromLanguageOrLocale(languageOrLocale);\n  if (language) {\n    // Find the language corresponding locales ordered by translation ratio.\n    const localeCandidates = LocalesMetadata.filter(localeMetadata =>\n      localeMetadata.languageCode.startsWith(language)\n    ).sort((a, b) => (a.translationRatio > b.translationRatio ? -1 : 1));\n\n    if (\n      localeCandidates.length >= 1 &&\n      localeCandidates[0].translationRatio >= translationRatioThreshold\n    )\n      return localeCandidates[0].languageCode;\n  }\n\n  // We found:\n  // - no exact language or locale translation (considered good enough or not),\n  // - no language-only translation (considered good enough),\n  // so return the default language.\n  return defaultLanguage;\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport * as React from 'react';\nimport type { ResourceKind } from '../../ResourcesList/ResourceSource';\nimport { type EditorMosaicNode } from '../../UI/EditorMosaic';\nimport { type FileMetadataAndStorageProviderName } from '../../ProjectsStorage';\nimport { type ShortcutMap } from '../../KeyboardShortcuts/DefaultShortcuts';\nimport { type CommandName } from '../../CommandPalette/CommandsList';\nimport optionalRequire from '../../Utils/OptionalRequire';\nimport { findDefaultFolder } from '../../ProjectsStorage/LocalFileStorageProvider/LocalPathFinder';\nimport { isWebGLSupported } from '../../Utils/WebGL';\n\nconst electron = optionalRequire('electron');\nconst remote = optionalRequire('@electron/remote');\nconst app = remote ? remote.app : null;\n\nexport type AlertMessageIdentifier =\n  | 'default-additional-work'\n  | 'automatic-lighting-layer'\n  | 'object-moved-in-lighting-layer'\n  | 'use-non-smoothed-textures'\n  | 'use-pixel-rounding'\n  | 'use-nearest-scale-mode'\n  | 'maximum-fps-too-low'\n  | 'minimum-fps-too-low'\n  | 'function-extractor-explanation'\n  | 'events-based-behavior-explanation'\n  | 'empty-events-based-behavior-explanation'\n  | 'events-based-object-explanation'\n  | 'empty-events-based-object-explanation'\n  | 'too-much-effects'\n  | 'effects-usage'\n  | 'lighting-layer-usage'\n  | 'resource-properties-panel-explanation'\n  | 'physics2-shape-collisions'\n  | 'lifecycle-events-function-included-only-if-extension-used'\n  | 'p2p-is-networking'\n  | 'p2p-dataloss'\n  | 'command-palette-shortcut'\n  | 'asset-installed-explanation'\n  | 'extension-installed-explanation'\n  | 'project-should-have-unique-package-name'\n  | 'new-generate-project-from-prompt';\n\nexport type EditorMosaicName =\n  | 'scene-editor'\n  | 'scene-editor-small'\n  | 'debugger'\n  | 'resources-editor'\n  | 'events-functions-extension-editor';\n\nexport type InAppTutorialUserProgress = {|\n  step: number,\n  /** Rounded progress in percentage */\n  progress: Array<number>,\n  fileMetadataAndStorageProviderName?: FileMetadataAndStorageProviderName,\n  projectData: {| [key: string]: string |},\n|};\n\nexport type InAppTutorialProgressDatabase = {\n  [tutorialId: string]: {\n    [userId: string]: InAppTutorialUserProgress,\n  },\n};\n\nexport const allAlertMessages: Array<{\n  key: AlertMessageIdentifier,\n  label: React.Node,\n}> = [\n  {\n    key: 'use-non-smoothed-textures',\n    label: <Trans>Using non smoothed textures</Trans>,\n  },\n  {\n    key: 'use-pixel-rounding',\n    label: <Trans>Using pixel rounding</Trans>,\n  },\n  {\n    key: 'use-nearest-scale-mode',\n    label: <Trans>Using Nearest Scale Mode</Trans>,\n  },\n  {\n    key: 'maximum-fps-too-low',\n    label: <Trans>Maximum Fps is too low</Trans>,\n  },\n  {\n    key: 'minimum-fps-too-low',\n    label: <Trans>Minimum Fps is too low</Trans>,\n  },\n  {\n    key: 'function-extractor-explanation',\n    label: <Trans>Using function extractor</Trans>,\n  },\n  {\n    key: 'events-based-behavior-explanation',\n    label: <Trans>Using events based behavior</Trans>,\n  },\n  {\n    key: 'empty-events-based-behavior-explanation',\n    label: <Trans>Using empty events based behavior</Trans>,\n  },\n  {\n    key: 'events-based-object-explanation',\n    label: <Trans>Using events based object</Trans>,\n  },\n  {\n    key: 'empty-events-based-object-explanation',\n    label: <Trans>Using empty events based object</Trans>,\n  },\n  {\n    key: 'too-much-effects',\n    label: <Trans>Using too much effects</Trans>,\n  },\n  {\n    key: 'effects-usage',\n    label: <Trans>Using effects</Trans>,\n  },\n  {\n    key: 'lighting-layer-usage',\n    label: <Trans>Using lighting layer</Trans>,\n  },\n  {\n    key: 'automatic-lighting-layer',\n    label: <Trans>Automatic creation of lighting layer</Trans>,\n  },\n  {\n    key: 'object-moved-in-lighting-layer',\n    label: <Trans>Light object automatically put in lighting layer</Trans>,\n  },\n  {\n    key: 'resource-properties-panel-explanation',\n    label: <Trans>Using the resource properties panel</Trans>,\n  },\n  {\n    key: 'physics2-shape-collisions',\n    label: <Trans>Collisions handling with the Physics engine</Trans>,\n  },\n  {\n    key: 'lifecycle-events-function-included-only-if-extension-used',\n    label: <Trans>Lifecycle functions only included when extension used</Trans>,\n  },\n  {\n    key: 'p2p-is-networking',\n    label: (\n      <Trans>Peer to peer IP address leak warning/THNK recommendation</Trans>\n    ),\n  },\n  {\n    key: 'p2p-dataloss',\n    label: <Trans>Peer to peer data-loss notice</Trans>,\n  },\n  {\n    key: 'command-palette-shortcut',\n    label: <Trans>Command palette keyboard shortcut</Trans>,\n  },\n  {\n    key: 'asset-installed-explanation',\n    label: (\n      <Trans>Explanation after an object is installed from the store</Trans>\n    ),\n  },\n  {\n    key: 'project-should-have-unique-package-name',\n    label: (\n      <Trans>Project package names should not begin with com.example</Trans>\n    ),\n  },\n  {\n    key: 'new-generate-project-from-prompt',\n    label: <Trans>New project generation from prompt warning</Trans>,\n  },\n];\n\n/**\n * All the preferences of GDevelop. To add a new preference, add it into this\n * type and add a setter into `Preferences` type. Then, update the\n * preference dialog.\n */\nexport type PreferencesValues = {|\n  language: string,\n  autoDownloadUpdates: boolean,\n  themeName: string,\n  codeEditorThemeName: string,\n  hiddenAlertMessages: { [AlertMessageIdentifier]: boolean },\n  hiddenTutorialHints: { [string]: boolean },\n  hiddenAnnouncements: { [string]: boolean },\n  autoDisplayChangelog: boolean,\n  lastLaunchedVersion: ?string,\n  eventsSheetShowObjectThumbnails: boolean,\n  autosaveOnPreview: boolean,\n  useUndefinedVariablesInAutocompletion: boolean,\n  useGDJSDevelopmentWatcher: boolean,\n  eventsSheetUseAssignmentOperators: boolean,\n  eventsSheetZoomLevel: number,\n  showEffectParameterNames: boolean,\n  projectLastUsedPaths: { [string]: { [ResourceKind]: string } },\n  defaultEditorMosaicNodes: { [EditorMosaicName]: ?EditorMosaicNode },\n  recentProjectFiles: Array<FileMetadataAndStorageProviderName>,\n  autoOpenMostRecentProject: boolean,\n  hasProjectOpened: boolean,\n  userShortcutMap: ShortcutMap,\n  newObjectDialogDefaultTab: 'asset-store' | 'new-object',\n  isMenuBarHiddenInPreview: boolean,\n  isAlwaysOnTopInPreview: boolean,\n  backdropClickBehavior: 'nothing' | 'apply' | 'cancel',\n  eventsSheetCancelInlineParameter: 'cancel' | 'apply',\n  showCommunityExtensions: boolean,\n  showGetStartedSection: boolean,\n  showEventBasedObjectsEditor: boolean,\n  use3DEditor: boolean,\n  inAppTutorialsProgress: InAppTutorialProgressDatabase,\n  newProjectsDefaultFolder: string,\n  newProjectsDefaultStorageProviderName: string,\n  useShortcutToClosePreviewWindow: boolean,\n|};\n\n/**\n * Type containing all the preferences of GDevelop and their setters.\n */\nexport type Preferences = {|\n  values: PreferencesValues,\n  setLanguage: (language: string) => void,\n  setThemeName: (themeName: string) => void,\n  setCodeEditorThemeName: (codeEditorThemeName: string) => void,\n  setAutoDownloadUpdates: (enabled: boolean) => void,\n  checkUpdates: (forceDownload?: boolean) => void,\n  setAutoDisplayChangelog: (enabled: boolean) => void,\n  showAlertMessage: (identifier: AlertMessageIdentifier, show: boolean) => void,\n  showAllAlertMessages: () => void,\n  showTutorialHint: (identifier: string, show: boolean) => void,\n  showAllTutorialHints: () => void,\n  showAnnouncement: (identifier: string, show: boolean) => void,\n  showAllAnnouncements: () => void,\n  verifyIfIsNewVersion: () => boolean,\n  setEventsSheetShowObjectThumbnails: (enabled: boolean) => void,\n  setAutosaveOnPreview: (enabled: boolean) => void,\n  setUseUndefinedVariablesInAutocompletion: (enabled: boolean) => void,\n  setUseGDJSDevelopmentWatcher: (enabled: boolean) => void,\n  setEventsSheetUseAssignmentOperators: (enabled: boolean) => void,\n  setEventsSheetZoomLevel: (zoomLevel: number) => void,\n  setShowEffectParameterNames: (enabled: boolean) => void,\n  getLastUsedPath: (project: gdProject, kind: ResourceKind) => string,\n  setLastUsedPath: (\n    project: gdProject,\n    kind: ResourceKind,\n    path: string\n  ) => void,\n  getDefaultEditorMosaicNode: (name: EditorMosaicName) => ?EditorMosaicNode,\n  setDefaultEditorMosaicNode: (\n    name: EditorMosaicName,\n    node: ?EditorMosaicNode\n  ) => void,\n  getRecentProjectFiles: () => Array<FileMetadataAndStorageProviderName>,\n  insertRecentProjectFile: (\n    fileMetadata: FileMetadataAndStorageProviderName\n  ) => void,\n  removeRecentProjectFile: (\n    fileMetadata: FileMetadataAndStorageProviderName\n  ) => void,\n  getAutoOpenMostRecentProject: () => boolean,\n  setAutoOpenMostRecentProject: (enabled: boolean) => void,\n  hadProjectOpenedDuringLastSession: () => boolean,\n  setHasProjectOpened: (enabled: boolean) => void,\n  resetShortcutsToDefault: () => void,\n  setShortcutForCommand: (commandName: CommandName, shortcut: string) => void,\n  getNewObjectDialogDefaultTab: () => 'asset-store' | 'new-object',\n  setNewObjectDialogDefaultTab: ('asset-store' | 'new-object') => void,\n  getIsMenuBarHiddenInPreview: () => boolean,\n  setIsMenuBarHiddenInPreview: (enabled: boolean) => void,\n  setBackdropClickBehavior: (value: string) => void,\n  getIsAlwaysOnTopInPreview: () => boolean,\n  setIsAlwaysOnTopInPreview: (enabled: boolean) => void,\n  setEventsSheetCancelInlineParameter: (value: string) => void,\n  setShowCommunityExtensions: (enabled: boolean) => void,\n  setShowGetStartedSection: (enabled: boolean) => void,\n  setShowEventBasedObjectsEditor: (enabled: boolean) => void,\n  getShowEventBasedObjectsEditor: () => boolean,\n  setUse3DEditor: (enabled: boolean) => void,\n  getUse3DEditor: () => boolean,\n  setNewProjectsDefaultStorageProviderName: (name: string) => void,\n  saveTutorialProgress: ({|\n    tutorialId: string,\n    userId: ?string,\n    ...InAppTutorialUserProgress,\n  |}) => void,\n  getTutorialProgress: ({|\n    tutorialId: string,\n    userId: ?string,\n  |}) => ?InAppTutorialUserProgress,\n  setNewProjectsDefaultFolder: (newProjectsDefaultFolder: string) => void,\n  setUseShortcutToClosePreviewWindow: (enabled: boolean) => void,\n|};\n\nexport const initialPreferences = {\n  values: {\n    language: 'en',\n    autoDownloadUpdates: true,\n    themeName:\n      typeof window !== 'undefined' &&\n      window.matchMedia('(prefers-color-scheme: dark)').matches\n        ? 'GDevelop default Dark'\n        : // TODO: Use the light theme back when it's adapted to the modern theme.\n          'GDevelop default Dark',\n    codeEditorThemeName: 'vs-dark',\n    hiddenAlertMessages: {},\n    hiddenTutorialHints: {},\n    hiddenAnnouncements: {},\n    autoDisplayChangelog: true,\n    lastLaunchedVersion: undefined,\n    eventsSheetShowObjectThumbnails: true,\n    autosaveOnPreview: true,\n    useUndefinedVariablesInAutocompletion: true,\n    useGDJSDevelopmentWatcher: true,\n    eventsSheetUseAssignmentOperators: false,\n    eventsSheetZoomLevel: 14,\n    showEffectParameterNames: false,\n    projectLastUsedPaths: {},\n    defaultEditorMosaicNodes: {},\n    recentProjectFiles: [],\n    autoOpenMostRecentProject: true,\n    hasProjectOpened: false,\n    userShortcutMap: {},\n    newObjectDialogDefaultTab: electron ? 'new-object' : 'asset-store',\n    isMenuBarHiddenInPreview: true,\n    isAlwaysOnTopInPreview: false,\n    backdropClickBehavior: 'nothing',\n    eventsSheetCancelInlineParameter: 'apply',\n    showCommunityExtensions: false,\n    showGetStartedSection: true,\n    showEventBasedObjectsEditor: false,\n    use3DEditor: isWebGLSupported(),\n    inAppTutorialsProgress: {},\n    newProjectsDefaultFolder: app ? findDefaultFolder(app) : '',\n    newProjectsDefaultStorageProviderName: 'Cloud',\n    useShortcutToClosePreviewWindow: true,\n  },\n  setLanguage: () => {},\n  setThemeName: () => {},\n  setCodeEditorThemeName: () => {},\n  setAutoDownloadUpdates: () => {},\n  checkUpdates: () => {},\n  setAutoDisplayChangelog: () => {},\n  showAlertMessage: (identifier: AlertMessageIdentifier, show: boolean) => {},\n  showAllAlertMessages: () => {},\n  showTutorialHint: (identifier: string, show: boolean) => {},\n  showAllTutorialHints: () => {},\n  showAnnouncement: (identifier: string, show: boolean) => {},\n  showAllAnnouncements: () => {},\n  verifyIfIsNewVersion: () => false,\n  setEventsSheetShowObjectThumbnails: () => {},\n  setAutosaveOnPreview: () => {},\n  setUseUndefinedVariablesInAutocompletion: (enabled: boolean) => {},\n  setUseGDJSDevelopmentWatcher: (enabled: boolean) => {},\n  setEventsSheetUseAssignmentOperators: (enabled: boolean) => {},\n  setEventsSheetZoomLevel: (zoomLevel: number) => {},\n  setShowEffectParameterNames: (enabled: boolean) => {},\n  getLastUsedPath: (project: gdProject, kind: ResourceKind) => '',\n  setLastUsedPath: (project: gdProject, kind: ResourceKind, path: string) => {},\n  getDefaultEditorMosaicNode: (name: EditorMosaicName) => null,\n  setDefaultEditorMosaicNode: (\n    name: EditorMosaicName,\n    node: ?EditorMosaicNode\n  ) => {},\n  getRecentProjectFiles: () => [],\n  insertRecentProjectFile: () => {},\n  removeRecentProjectFile: () => {},\n  getAutoOpenMostRecentProject: () => true,\n  setAutoOpenMostRecentProject: () => {},\n  hadProjectOpenedDuringLastSession: () => false,\n  setHasProjectOpened: () => {},\n  resetShortcutsToDefault: () => {},\n  setShortcutForCommand: (commandName: CommandName, shortcut: string) => {},\n  getNewObjectDialogDefaultTab: () => 'asset-store',\n  setNewObjectDialogDefaultTab: () => {},\n  getIsMenuBarHiddenInPreview: () => true,\n  setIsMenuBarHiddenInPreview: () => {},\n  setBackdropClickBehavior: () => {},\n  getIsAlwaysOnTopInPreview: () => true,\n  setIsAlwaysOnTopInPreview: () => {},\n  setEventsSheetCancelInlineParameter: () => {},\n  setShowCommunityExtensions: () => {},\n  setShowGetStartedSection: (enabled: boolean) => {},\n  setShowEventBasedObjectsEditor: (enabled: boolean) => {},\n  getShowEventBasedObjectsEditor: () => false,\n  setUse3DEditor: (enabled: boolean) => {},\n  getUse3DEditor: () => false,\n  saveTutorialProgress: () => {},\n  getTutorialProgress: () => {},\n  setNewProjectsDefaultFolder: () => {},\n  setNewProjectsDefaultStorageProviderName: () => {},\n  setUseShortcutToClosePreviewWindow: () => {},\n};\n\nconst PreferencesContext = React.createContext<Preferences>(initialPreferences);\n\nexport default PreferencesContext;\n","// @flow\n\nexport const isWebGLSupported = (): boolean => {\n  try {\n    var canvas = document.createElement('canvas');\n    return (\n      !!window.WebGLRenderingContext &&\n      !!(canvas.getContext('webgl') || canvas.getContext('experimental-webgl'))\n    );\n  } catch (e) {\n    return false;\n  }\n};\n","// @flow\n// This file is generated by make-version-metadata.js script\n// Don't import this file directly, prefer to use newIDE/app/src/Version/index.js instead.\n// prettier-ignore\nmodule.exports = {\n  \"version\": \"5.2.166\",\n  \"gitHash\": \"2496fc3eefd3a25c7a452d10b751395e9a6b6e13\",\n  \"versionWithHash\": \"5.2.166-2496fc3eefd3a25c7a452d10b751395e9a6b6e13\"\n};\n","// @flow\n// See https://gist.github.com/jed/982883\nconst generateUUID = (a): string => {\n  return a\n    ? // eslint-disable-next-line\n      (a ^ ((Math.random() * 16) >> (a / 4))).toString(16)\n    : // $FlowFixMe\n      ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, generateUUID);\n};\n\nconst localStorageKey = 'gd-user-uuid';\nlet currentUserUuid: ?string = null;\n\nexport const resetUserUUID = (): string => {\n  const newUserUUID = generateUUID();\n  try {\n    localStorage.setItem(localStorageKey, newUserUUID);\n  } catch (e) {\n    console.warn('Unable to save a new user UUID', e);\n  }\n  currentUserUuid = newUserUUID;\n  return currentUserUuid;\n};\n\nexport const getUserUUID = (): string => {\n  if (currentUserUuid) return currentUserUuid;\n\n  try {\n    const storedUserUUID = localStorage.getItem(localStorageKey);\n    if (storedUserUUID) {\n      currentUserUuid = storedUserUUID;\n      return storedUserUUID;\n    }\n  } catch (e) {\n    console.warn('Unable to load stored user UUID', e);\n  }\n\n  return resetUserUUID();\n};\n","// @flow\nconst localStoragePrefix = 'gd-local-stats';\n\nexport const getProgramOpeningCount = (): number => {\n  try {\n    const count = localStorage.getItem(`${localStoragePrefix}-program-opening`);\n    if (count !== null) return parseInt(count, 10);\n  } catch (e) {\n    console.warn('Unable to load stored program opening count', e);\n  }\n\n  return 0;\n};\n\nexport const incrementProgramOpeningCount = () => {\n  const count = getProgramOpeningCount() + 1;\n\n  try {\n    localStorage.setItem(`${localStoragePrefix}-program-opening`, '' + count);\n  } catch (e) {\n    console.warn('Unable to store program opening count', e);\n  }\n};\n","// @flow\nimport posthog from 'posthog-js';\nimport { getUserUUID, resetUserUUID } from './UserUUID';\nimport { type AuthenticatedUser } from '../../Profile/AuthenticatedUserContext';\nimport { User as FirebaseUser } from 'firebase/auth';\nimport {\n  getProgramOpeningCount,\n  incrementProgramOpeningCount,\n} from './LocalStats';\nimport { getIDEVersion, getIDEVersionWithHash } from '../../Version';\nimport { loadPreferencesFromLocalStorage } from '../../MainFrame/Preferences/PreferencesProvider';\nimport { getBrowserLanguageOrLocale } from '../Language';\nimport optionalRequire from '../OptionalRequire';\nimport Window from '../Window';\nconst electron = optionalRequire('electron');\n\nconst isElectronApp = !!electron;\nconst isDev = Window.isDev();\n\n// Flag helpful to know if posthog is ready to send events.\nlet posthogLoaded = false;\n// Flag helpful to know if the user has been identified, to avoid sending initial events\n// to a random uuid (like program_opening), which may not be merged to the main user's account.\nlet userIdentified = false;\nlet posthogLastPropertiesSent = '';\nlet currentlyRunningInAppTutorial = null;\n\nexport const setCurrentlyRunningInAppTutorial = (tutorial: string | null) =>\n  (currentlyRunningInAppTutorial = tutorial);\n\n/**\n * Used to send an event to the analytics.\n * This function will retry to send the event if the analytics service is not ready.\n */\nconst recordEvent = (name: string, metadata?: { [string]: any }) => {\n  if (isDev) return;\n\n  if (!posthogLoaded || !userIdentified) {\n    console.info(`App analytics not ready for an event - retrying in 2s.`);\n    setTimeout(() => {\n      console.info(\n        `Retrying to send the app analytics event with name ${name}`\n      );\n      recordEvent(name, metadata);\n    }, 2000);\n\n    return;\n  }\n\n  posthog.capture(name, {\n    ...metadata,\n    isInAppTutorialRunning: currentlyRunningInAppTutorial,\n    isInDesktopApp: isElectronApp,\n    isInWebApp: !isElectronApp,\n  });\n};\n\n/**\n * Used once at the beginning of the app to initialize the analytics.\n */\nexport const installAnalyticsEvents = () => {\n  if (isDev) {\n    console.info('Development build - Analytics disabled');\n    return;\n  }\n\n  posthog.init('phc_yjTVz4BMHUOhCLBhVImjk3Jn1AjMCg808bxENY228qu', {\n    api_host: 'https://app.posthog.com',\n    loaded: () => {\n      posthogLoaded = true;\n    },\n    autocapture: false, // we disable autocapture because we want to control which events we send.\n  });\n};\n\n/**\n * Must be called every time the user is fetched (and also even if the user turns out to be not connected).\n * This allows updating the user properties (like the language used, the version of the app, etc...)\n * and to identify the user if not already done.\n * We can safely call it multiple times, as it will only send the user properties if they changed.\n */\nexport const identifyUserForAnalytics = (\n  authenticatedUser: AuthenticatedUser\n) => {\n  if (isDev) {\n    console.info('Development build - Analytics disabled');\n    return;\n  }\n\n  if (!posthogLoaded) {\n    console.info(`App analytics not ready - retrying in 2s.`);\n    setTimeout(() => {\n      console.info(`Retrying to update the user for app analytics.`);\n      identifyUserForAnalytics(authenticatedUser);\n    }, 2000);\n\n    return;\n  }\n\n  const firebaseUser = authenticatedUser.firebaseUser;\n  const profile = authenticatedUser.profile;\n  const userPreferences = loadPreferencesFromLocalStorage();\n  const appLanguage = userPreferences ? userPreferences.language : undefined;\n  const browserLanguage = getBrowserLanguageOrLocale();\n\n  const userProperties = {\n    providerId: firebaseUser ? firebaseUser.providerId : undefined,\n    email: firebaseUser ? firebaseUser.email : undefined,\n    emailVerified: firebaseUser ? firebaseUser.emailVerified : undefined,\n    // Only keep information useful to generate app usage statistics:\n    uuid: getUserUUID(),\n    version: getIDEVersion(),\n    versionWithHash: getIDEVersionWithHash(),\n    appLanguage,\n    browserLanguage,\n    programOpeningCount: getProgramOpeningCount(),\n    themeName: userPreferences ? userPreferences.themeName : 'Unknown',\n    ...(isElectronApp ? { usedDesktopApp: true } : { usedWebApp: true }),\n    // Additional profile information:\n    gdevelopUsage: profile ? profile.gdevelopUsage : undefined,\n    teamOrCompanySize: profile ? profile.teamOrCompanySize : undefined,\n    companyName: profile ? profile.companyName : undefined,\n    creationExperience: profile ? profile.creationExperience : undefined,\n    creationGoal: profile ? profile.creationGoal : undefined,\n    hearFrom: profile ? profile.hearFrom : undefined,\n  };\n\n  // Identify which user is using the app, after de-duplicating the call to\n  // avoid useless calls.\n  // This is so we can build stats on the used version, languages and usage\n  // of GDevelop features.\n  const stringifiedUserProperties = JSON.stringify(userProperties);\n  if (stringifiedUserProperties !== posthogLastPropertiesSent) {\n    // If the user is not logged in, identify the user by its anonymous UUID.\n    // If the user is logged in, identify the user by its Firebase ID.\n    const userId = firebaseUser ? firebaseUser.uid : getUserUUID();\n    posthog.identify(userId, userProperties);\n    posthogLastPropertiesSent = stringifiedUserProperties;\n    userIdentified = true;\n  }\n};\n\n/**\n * Must be called on signup, to link the current user Firebase ID to the anonymous UUID\n * that was used before the signup (this allows linking the events sent before the signup)\n * This is only done on signup as an ID can only be an alias of another ID once.\n */\nexport const aliasUserForAnalyticsAfterSignUp = (\n  firebaseUser: FirebaseUser\n) => {\n  if (isDev) {\n    console.info('Development build - Analytics disabled');\n    return;\n  }\n\n  if (!posthogLoaded) {\n    console.info(`App analytics not ready for aliasing - retrying in 2s.`);\n    setTimeout(() => {\n      console.info(`Retrying to alias the user for app analytics.`);\n      aliasUserForAnalyticsAfterSignUp(firebaseUser);\n    }, 2000);\n\n    return;\n  }\n\n  // This indicates to Posthog that the current user Firebase ID is now an alias\n  // of the anonymous UUID that was used before the signup.\n  posthog.alias(firebaseUser.uid, getUserUUID());\n};\n\nexport const onUserLogoutForAnalytics = () => {\n  if (isDev) {\n    console.info('Development build - Analytics disabled');\n    return;\n  }\n\n  // Reset the UUID to generate a random new one and be sure\n  // we don't count different users as a single one in our stats.\n  resetUserUUID();\n  posthog.reset();\n};\n\nexport const sendProgramOpening = () => {\n  incrementProgramOpeningCount();\n  recordEvent('program_opening');\n};\n\nexport const sendExportLaunched = (exportKind: string) => {\n  recordEvent('export_launched', {\n    platform: 'GDevelop JS Platform', // Hardcoded here for now\n    exportKind,\n  });\n};\n\nexport const sendExampleDetailsOpened = (slug: string) => {\n  recordEvent('example-details-opened', { slug });\n};\n\nexport const sendNewGameCreated = ({\n  exampleUrl,\n  exampleSlug,\n}: {|\n  exampleUrl: string,\n  exampleSlug: string,\n|}) => {\n  recordEvent('new_game_creation', {\n    platform: 'GDevelop JS Platform', // Hardcoded here for now\n    templateName: exampleUrl,\n    exampleSlug,\n  });\n};\n\nexport const sendTutorialOpened = (tutorialName: string) => {\n  recordEvent('tutorial_opened', {\n    tutorialName,\n  });\n};\n\nexport const sendInAppTutorialStarted = (metadata: {|\n  tutorialId: string,\n  scenario: 'startOver' | 'resume' | 'start',\n|}) => {\n  recordEvent('in-app-tutorial-started', metadata);\n};\n\nexport const sendAssetPackOpened = (options: {|\n  assetPackName: string,\n  assetPackTag: string | null,\n  assetPackId: string | null,\n  assetPackKind: 'public' | 'private' | 'unknown',\n  source: 'store-home' | 'author-profile' | 'new-object',\n|}) => {\n  recordEvent('asset_pack_opened', options);\n};\n\nexport const sendAssetPackBuyClicked = (options: {|\n  assetPackId: string,\n  assetPackName: string,\n  assetPackTag: string,\n  assetPackKind: 'public' | 'private' | 'unknown',\n|}) => {\n  recordEvent('asset_pack_buy_clicked', options);\n};\n\nexport const sendAssetPackInformationOpened = (options: {|\n  assetPackId: string,\n  assetPackName: string,\n  assetPackKind: 'public' | 'private' | 'unknown',\n|}) => {\n  recordEvent('asset_pack_information_opened', options);\n};\n\nexport const sendHelpSearch = (searchText: string) => {\n  recordEvent('help_search', {\n    searchText,\n  });\n};\n\nexport const sendErrorMessage = (\n  message: string,\n  type:\n    | 'error'\n    | 'error-boundary_mainframe'\n    | 'error-boundary_list-search-result'\n    | 'error-boundary_box-search-result'\n    | 'error-boundary_app',\n  rawError: any,\n  errorId: string\n) => {\n  recordEvent('error_message', {\n    message,\n    type,\n    rawError,\n    errorId,\n  });\n};\n\nexport const sendSignupDone = (email: string) => {\n  recordEvent('signup', {\n    email,\n  });\n};\n\nexport const sendSubscriptionCheckDialogShown = ({\n  mode,\n  id,\n}: {|\n  mode: string,\n  id: string,\n|}) => {\n  recordEvent('subscription-check-dialog-shown', {\n    mode,\n    title: id,\n  });\n};\n\nexport const sendSubscriptionCheckDismiss = () => {\n  recordEvent('subscription-check-dialog-dismiss');\n};\n\nexport type SubscriptionDialogDisplayReason =\n  | 'Disable GDevelop splash at startup'\n  | 'Debugger'\n  | 'Hot reloading'\n  | 'Preview over wifi'\n  | 'Landing dialog at opening'\n  | 'Leaderboard count per game limit reached'\n  | 'Cloud Project limit reached'\n  | 'Consult profile'\n  | 'Build limit reached'\n  | 'Leaderboard customization'\n  | 'Extend redeemed subscription'\n  | 'Generate project from prompt';\n\nexport const sendSubscriptionDialogShown = (metadata: {|\n  reason: SubscriptionDialogDisplayReason,\n  preStep?: 'subscriptionChecker',\n|}) => {\n  recordEvent('subscription-dialog-shown', metadata);\n};\n\nexport const sendAssetOpened = (options: {|\n  id: string,\n  name: string,\n  assetPackName: string | null,\n  assetPackTag: string | null,\n  assetPackId: string | null,\n  assetPackKind: 'public' | 'private' | 'unknown',\n|}) => {\n  recordEvent('asset-opened', options);\n};\n\nexport const sendAssetAddedToProject = (options: {|\n  id: string,\n  name: string,\n  assetPackName: string | null,\n  assetPackTag: string | null,\n  assetPackId: string | null,\n  assetPackKind: 'public' | 'private' | 'unknown',\n|}) => {\n  recordEvent('asset-added-to-project', options);\n};\n\nexport const sendExtensionDetailsOpened = (name: string) => {\n  recordEvent('extension-details-opened', { name });\n};\n\nexport const sendExtensionAddedToProject = (name: string) => {\n  recordEvent('extension-added-to-project', { name });\n};\n\nexport const sendNewObjectCreated = (name: string) => {\n  recordEvent('new-object-created', { name });\n};\n\nexport const sendShowcaseGameLinkOpened = (title: string, linkType: string) => {\n  recordEvent('showcase-open-game-link', { title, linkType });\n};\n\nexport const sendChoosePlanClicked = (planId: string | null) => {\n  recordEvent('choose-plan-click', { planId });\n};\n\nexport const sendExternalEditorOpened = (editorName: string) => {\n  recordEvent('open_external_editor', { editorName });\n};\n\nexport const sendBehaviorsEditorShown = (metadata: {|\n  parentEditor: 'object-editor-dialog',\n|}) => {\n  // It would be costly to send an event for each opening of the behaviors editor.\n  // We would rather have this aggregated by the app and sent as a property for the user.\n  // TODO: investigate a more generic way of collecting some useful counters to understand\n  // which editors are used (and how much/how long),\n  // and send these as properties in the `identify` event (or in a debounced event?).\n  // recordEvent('behaviors-editor-shown', metadata);\n};\n\nexport const sendBehaviorAdded = (metadata: {|\n  behaviorType: string,\n  parentEditor: 'behaviors-editor' | 'instruction-editor-dialog',\n|}) => {\n  recordEvent('behavior-added', metadata);\n};\n\nexport const sendCloudProjectCouldNotBeOpened = (metadata: {|\n  userId: string,\n  cloudProjectId: string,\n|}) => {\n  recordEvent('cloud-project-opening-failed', metadata);\n};\n\nexport const sendEventsExtractedAsFunction = (metadata: {|\n  step: 'begin' | 'end',\n  parentEditor:\n    | 'scene-events-editor'\n    | 'extension-events-editor'\n    | 'external-events-editor',\n|}) => {\n  recordEvent('events-extracted-as-function', metadata);\n};\n\nexport const sendInAppTutorialProgress = (metadata: {|\n  tutorialId: string,\n  step: number,\n  isCompleted: boolean,\n|}) => {\n  const builtInTutorialIds = ['onboarding'];\n  recordEvent(\n    builtInTutorialIds.includes(metadata.tutorialId)\n      ? 'in-app-tutorial-built-in'\n      : 'in-app-tutorial-external',\n    metadata\n  );\n};\n","// @flow\nimport VersionMetadata from './VersionMetadata';\n\nexport const getIDEVersion = (): string => VersionMetadata.version;\nexport const getIDEVersionWithHash = (): string =>\n  VersionMetadata.versionWithHash;\n\nlet gdCoreVersionString = '';\nexport const getGDCoreVersion = (): string => {\n  if (gdCoreVersionString) return gdCoreVersionString;\n\n  const gd: libGDevelop = global.gd;\n  gdCoreVersionString = gd ? gd.VersionWrapper.fullString() : 'Unknown';\n  return gdCoreVersionString;\n};\n","// @flow\n\nimport Window from '../../Utils/Window';\nimport { sendErrorMessage } from '../../Utils/Analytics/EventSender';\n\nexport const showMessageBox = (message: string) => {\n  Window.showMessageBox(message, 'info');\n};\n\ntype WarningOptions = {|\n  /**\n   * Delay the display of the warning to the next tick, not blocking the current function\n   * execution. This can be useful to work around freezing issues on Linux.\n   */\n  delayToNextTick: boolean,\n|};\n\nexport const showWarningBox = (message: string, options?: WarningOptions) => {\n  if (options && options.delayToNextTick) {\n    setTimeout(() => {\n      Window.showMessageBox(message, 'warning');\n    });\n  } else {\n    Window.showMessageBox(message, 'warning');\n  }\n};\n\ntype ErrorArgs = {|\n  message: string,\n  rawError: ?Error | Object,\n  errorId: string,\n  doNotReport?: boolean,\n|};\n\nexport const showErrorBox = ({\n  message,\n  rawError,\n  errorId,\n  doNotReport,\n}: ErrorArgs) => {\n  Window.showMessageBox(message, 'error');\n  if (!doNotReport) {\n    sendErrorMessage(message, 'error', rawError, errorId);\n  }\n  console.error(`${errorId}: \"${message}\". Raw error:`, rawError);\n};\n","// @flow\n\nimport * as React from 'react';\nimport PreferencesContext, {\n  initialPreferences,\n  type Preferences,\n  type AlertMessageIdentifier,\n} from './PreferencesContext';\nimport optionalRequire from '../../Utils/OptionalRequire';\nimport { getIDEVersion } from '../../Version';\nimport {\n  type PreferencesValues,\n  type EditorMosaicName,\n} from './PreferencesContext';\nimport type { ResourceKind } from '../../ResourcesList/ResourceSource';\nimport { type EditorMosaicNode } from '../../UI/EditorMosaic';\nimport { type FileMetadataAndStorageProviderName } from '../../ProjectsStorage';\nimport defaultShortcuts from '../../KeyboardShortcuts/DefaultShortcuts';\nimport { type CommandName } from '../../CommandPalette/CommandsList';\nimport {\n  getBrowserLanguageOrLocale,\n  setLanguageInDOM,\n  selectLanguageOrLocale,\n} from '../../Utils/Language';\nconst electron = optionalRequire('electron');\nconst ipcRenderer = electron ? electron.ipcRenderer : null;\n\ntype Props = {|\n  children: React.Node,\n  disableCheckForUpdates: boolean,\n|};\n\ntype State = Preferences;\n\nconst localStorageItem = 'gd-preferences';\nconst MAX_RECENT_FILES_COUNT = 20;\n\nexport const loadPreferencesFromLocalStorage = (): ?PreferencesValues => {\n  try {\n    const persistedState = localStorage.getItem(localStorageItem);\n    if (!persistedState) return null;\n\n    const values = JSON.parse(persistedState);\n\n    // \"Migrate\" non existing properties to their default values\n    // (useful when upgrading the preferences to a new version where\n    // a new preference was added).\n    for (const key in initialPreferences.values) {\n      if (\n        initialPreferences.values.hasOwnProperty(key) &&\n        typeof values[key] === 'undefined'\n      ) {\n        values[key] = initialPreferences.values[key];\n      }\n    }\n\n    // Migrate renamed themes.\n    if (values.themeName === 'GDevelop default') {\n      values.themeName = 'GDevelop default Light';\n    } else if (values.themeName === 'Dark') {\n      values.themeName = 'Blue Dark';\n    }\n\n    return values;\n  } catch (e) {\n    return null;\n  }\n};\n\nexport const getInitialPreferences = () => {\n  let languageOrLocale = 'en';\n  const browserLanguageOrLocale = getBrowserLanguageOrLocale();\n  if (browserLanguageOrLocale)\n    languageOrLocale = selectLanguageOrLocale(\n      browserLanguageOrLocale,\n      languageOrLocale\n    );\n\n  return { ...initialPreferences.values, language: languageOrLocale };\n};\n\nconst getPreferences = () => {\n  const preferences =\n    loadPreferencesFromLocalStorage() || getInitialPreferences();\n  setLanguageInDOM(preferences.language);\n  return preferences;\n};\n\nexport default class PreferencesProvider extends React.Component<Props, State> {\n  state = {\n    values: getPreferences(),\n    setLanguage: this._setLanguage.bind(this),\n    setThemeName: this._setThemeName.bind(this),\n    setCodeEditorThemeName: this._setCodeEditorThemeName.bind(this),\n    setAutoDownloadUpdates: this._setAutoDownloadUpdates.bind(this),\n    checkUpdates: this._checkUpdates.bind(this),\n    setAutoDisplayChangelog: this._setAutoDisplayChangelog.bind(this),\n    showAlertMessage: this._showAlertMessage.bind(this),\n    showAllAlertMessages: this._showAllAlertMessages.bind(this),\n    showTutorialHint: this._showTutorialHint.bind(this),\n    showAllTutorialHints: this._showAllTutorialHints.bind(this),\n    showAnnouncement: this._showAnnouncement.bind(this),\n    showAllAnnouncements: this._showAllAnnouncements.bind(this),\n    verifyIfIsNewVersion: this._verifyIfIsNewVersion.bind(this),\n    setEventsSheetShowObjectThumbnails: this._setEventsSheetShowObjectThumbnails.bind(\n      this\n    ),\n    setAutosaveOnPreview: this._setAutosaveOnPreview.bind(this),\n    setUseUndefinedVariablesInAutocompletion: this._setUseUndefinedVariablesInAutocompletion.bind(\n      this\n    ),\n    setUseGDJSDevelopmentWatcher: this._setUseGDJSDevelopmentWatcher.bind(this),\n    setEventsSheetUseAssignmentOperators: this._setEventsSheetUseAssignmentOperators.bind(\n      this\n    ),\n    setEventsSheetZoomLevel: this._setEventsSheetZoomLevel.bind(this),\n    setShowEffectParameterNames: this._setShowEffectParameterNames.bind(this),\n    getLastUsedPath: this._getLastUsedPath.bind(this),\n    setLastUsedPath: this._setLastUsedPath.bind(this),\n    getDefaultEditorMosaicNode: this._getDefaultEditorMosaicNode.bind(this),\n    setDefaultEditorMosaicNode: this._setDefaultEditorMosaicNode.bind(this),\n    getRecentProjectFiles: this._getRecentProjectFiles.bind(this),\n    insertRecentProjectFile: this._insertRecentProjectFile.bind(this),\n    removeRecentProjectFile: this._removeRecentProjectFile.bind(this),\n    getAutoOpenMostRecentProject: this._getAutoOpenMostRecentProject.bind(this),\n    setAutoOpenMostRecentProject: this._setAutoOpenMostRecentProject.bind(this),\n    hadProjectOpenedDuringLastSession: this._hadProjectOpenedDuringLastSession.bind(\n      this\n    ),\n    setHasProjectOpened: this._setHasProjectOpened.bind(this),\n    setShortcutForCommand: this._setShortcutForCommand.bind(this),\n    resetShortcutsToDefault: this._resetShortcutsToDefault.bind(this),\n    getNewObjectDialogDefaultTab: this._getNewObjectDialogDefaultTab.bind(this),\n    setNewObjectDialogDefaultTab: this._setNewObjectDialogDefaultTab.bind(this),\n    getIsMenuBarHiddenInPreview: this._getIsMenuBarHiddenInPreview.bind(this),\n    setIsMenuBarHiddenInPreview: this._setIsMenuBarHiddenInPreview.bind(this),\n    setBackdropClickBehavior: this._setBackdropClickBehavior.bind(this),\n    getIsAlwaysOnTopInPreview: this._getIsAlwaysOnTopInPreview.bind(this),\n    setIsAlwaysOnTopInPreview: this._setIsAlwaysOnTopInPreview.bind(this),\n    setEventsSheetCancelInlineParameter: this._setEventsSheetCancelInlineParameter.bind(\n      this\n    ),\n    setShowCommunityExtensions: this._setShowCommunityExtensions.bind(this),\n    setShowGetStartedSection: this._setShowGetStartedSection.bind(this),\n    setShowEventBasedObjectsEditor: this._setShowEventBasedObjectsEditor.bind(\n      this\n    ),\n    getShowEventBasedObjectsEditor: this._getShowEventBasedObjectsEditor.bind(\n      this\n    ),\n    setUse3DEditor: this._setUse3DEditor.bind(this),\n    getUse3DEditor: this._getUse3DEditor.bind(this),\n    saveTutorialProgress: this._saveTutorialProgress.bind(this),\n    getTutorialProgress: this._getTutorialProgress.bind(this),\n    setNewProjectsDefaultFolder: this._setNewProjectsDefaultFolder.bind(this),\n    setNewProjectsDefaultStorageProviderName: this._setNewProjectsDefaultStorageProviderName.bind(\n      this\n    ),\n    setUseShortcutToClosePreviewWindow: this._setUseShortcutToClosePreviewWindow.bind(\n      this\n    ),\n  };\n\n  componentDidMount() {\n    setTimeout(() => this._checkUpdates(), 10000);\n  }\n\n  _setLanguage(language: string) {\n    setLanguageInDOM(language);\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          language,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _setEventsSheetShowObjectThumbnails(\n    eventsSheetShowObjectThumbnails: boolean\n  ) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          eventsSheetShowObjectThumbnails,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _setAutosaveOnPreview(autosaveOnPreview: boolean) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          autosaveOnPreview,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _saveTutorialProgress({\n    tutorialId,\n    userId,\n    ...tutorialProgress\n  }: {|\n    tutorialId: string,\n    userId: ?string,\n    step: number,\n    progress: number,\n    fileMetadataAndStorageProviderName: FileMetadataAndStorageProviderName,\n    projectData: {| [key: string]: string |},\n  |}) {\n    const userIdKey: string = userId || 'anonymous';\n    this.setState(\n      ({ values }) => {\n        return {\n          values: {\n            ...values,\n            inAppTutorialsProgress: {\n              ...values.inAppTutorialsProgress,\n              [tutorialId]: {\n                ...values.inAppTutorialsProgress[tutorialId],\n                [userIdKey]: tutorialProgress,\n              },\n            },\n          },\n        };\n      },\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _getTutorialProgress({\n    tutorialId,\n    userId,\n  }: {|\n    tutorialId: string,\n    userId: ?string,\n  |}) {\n    const userIdKey: string = userId || 'anonymous';\n    const tutorialProgresses = this.state.values.inAppTutorialsProgress[\n      tutorialId\n    ];\n    if (!tutorialProgresses) return undefined;\n    return tutorialProgresses[userIdKey];\n  }\n\n  _setUseUndefinedVariablesInAutocompletion(\n    useUndefinedVariablesInAutocompletion: boolean\n  ) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          useUndefinedVariablesInAutocompletion,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _setUseGDJSDevelopmentWatcher(useGDJSDevelopmentWatcher: boolean) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          useGDJSDevelopmentWatcher,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _setEventsSheetUseAssignmentOperators(\n    eventsSheetUseAssignmentOperators: boolean\n  ) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          eventsSheetUseAssignmentOperators,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _setEventsSheetZoomLevel(eventsSheetZoomLevel: number) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          eventsSheetZoomLevel,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _setShowEffectParameterNames(showEffectParameterNames: boolean) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          showEffectParameterNames,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _setShowGetStartedSection(showGetStartedSection: boolean) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          showGetStartedSection,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _setThemeName(themeName: string) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          themeName,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _setCodeEditorThemeName(codeEditorThemeName: string) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          codeEditorThemeName,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _setAutoDownloadUpdates(autoDownloadUpdates: boolean) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          autoDownloadUpdates,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _setAutoDisplayChangelog(autoDisplayChangelog: boolean) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          autoDisplayChangelog,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _setEventsSheetCancelInlineParameter(\n    eventsSheetCancelInlineParameter: 'apply' | 'cancel'\n  ) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          eventsSheetCancelInlineParameter,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _setUseShortcutToClosePreviewWindow(\n    useShortcutToClosePreviewWindow: boolean\n  ) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          useShortcutToClosePreviewWindow,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _setShowCommunityExtensions(showCommunityExtensions: boolean) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          showCommunityExtensions,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _setShowEventBasedObjectsEditor(showEventBasedObjectsEditor: boolean) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          showEventBasedObjectsEditor,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _getShowEventBasedObjectsEditor() {\n    return this.state.values.showEventBasedObjectsEditor;\n  }\n\n  _setUse3DEditor(use3DEditor: boolean) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          use3DEditor,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _getUse3DEditor() {\n    return this.state.values.use3DEditor;\n  }\n\n  _checkUpdates(forceDownload?: boolean) {\n    // Checking for updates is only done on Electron.\n    // Note: This could be abstracted away later if other updates mechanisms\n    // should be supported.\n    const { disableCheckForUpdates } = this.props;\n    if (!ipcRenderer || disableCheckForUpdates) return;\n\n    if (!!forceDownload || this.state.values.autoDownloadUpdates) {\n      ipcRenderer.send('updates-check-and-download');\n    } else {\n      ipcRenderer.send('updates-check');\n    }\n  }\n\n  _verifyIfIsNewVersion() {\n    const currentVersion = getIDEVersion();\n    const { lastLaunchedVersion } = this.state.values;\n    if (lastLaunchedVersion === currentVersion) {\n      // This is not a new version\n      return false;\n    }\n\n    // This is a new version: store the version number\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          lastLaunchedVersion: currentVersion,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n\n    if (lastLaunchedVersion === undefined) {\n      // This is the first time GDevelop is launched, don't\n      // warn about this version being new.\n      return false;\n    }\n\n    return true;\n  }\n\n  _showAlertMessage(identifier: AlertMessageIdentifier, show: boolean) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          hiddenAlertMessages: {\n            ...state.values.hiddenAlertMessages,\n            // $FlowFixMe - Flow won't typecheck this because of https://medium.com/flow-type/spreads-common-errors-fixes-9701012e9d58\n            [identifier]: !show,\n          },\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _showAllAlertMessages() {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          hiddenAlertMessages: {},\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _showTutorialHint(identifier: string, show: boolean) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          hiddenTutorialHints: {\n            ...state.values.hiddenTutorialHints,\n            [identifier]: !show,\n          },\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _showAllTutorialHints() {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          hiddenTutorialHints: {},\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _showAnnouncement(identifier: string, show: boolean) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          hiddenAnnouncements: {\n            ...state.values.hiddenAnnouncements,\n            [identifier]: !show,\n          },\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _showAllAnnouncements() {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          hiddenAnnouncements: {},\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _persistValuesToLocalStorage(preferences: Preferences) {\n    try {\n      localStorage.setItem(\n        localStorageItem,\n        JSON.stringify(preferences.values)\n      );\n    } catch (e) {\n      console.warn('Unable to persist preferences', e);\n    }\n\n    return preferences;\n  }\n\n  _getLastUsedPath(project: gdProject, kind: ResourceKind) {\n    const projectPath = project.getProjectFile();\n    const { values } = this.state;\n    const projectPaths = values.projectLastUsedPaths[projectPath];\n    if (projectPaths && projectPaths[kind]) {\n      return projectPaths[kind];\n    }\n    if (!projectPath) return null;\n  }\n\n  _setLastUsedPath(project: gdProject, kind: ResourceKind, latestPath: string) {\n    const projectPath = project.getProjectFile();\n\n    const { values } = this.state;\n    const newProjectLastUsedPaths =\n      values.projectLastUsedPaths[projectPath] || {};\n    newProjectLastUsedPaths[kind] = latestPath;\n\n    this.setState(\n      {\n        values: {\n          ...values,\n          projectLastUsedPaths: {\n            ...values.projectLastUsedPaths,\n            [projectPath]: newProjectLastUsedPaths,\n          },\n        },\n      },\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _getDefaultEditorMosaicNode(name: EditorMosaicName) {\n    return this.state.values.defaultEditorMosaicNodes[name] || null;\n  }\n\n  _setDefaultEditorMosaicNode(name: EditorMosaicName, node: ?EditorMosaicNode) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          defaultEditorMosaicNodes: {\n            ...state.values.defaultEditorMosaicNodes,\n            // $FlowFixMe - Flow errors on unions in computed properties\n            [name]: node,\n          },\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _getRecentProjectFiles() {\n    return this.state.values.recentProjectFiles;\n  }\n\n  _setRecentProjectFiles(recents: Array<FileMetadataAndStorageProviderName>) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          recentProjectFiles: recents,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _insertRecentProjectFile(newRecentFile: FileMetadataAndStorageProviderName) {\n    // Do not store recent project in preferences as they will be accessible only from user account.\n    if (newRecentFile.storageProviderName === 'Cloud') return;\n\n    let recentProjectFiles = this._getRecentProjectFiles();\n    const isNotNewRecentFile = recentFile =>\n      recentFile.fileMetadata.fileIdentifier !==\n      newRecentFile.fileMetadata.fileIdentifier;\n    this._setRecentProjectFiles(\n      [newRecentFile, ...recentProjectFiles.filter(isNotNewRecentFile)].slice(\n        0,\n        MAX_RECENT_FILES_COUNT\n      )\n    );\n  }\n\n  _removeRecentProjectFile(recentFile: FileMetadataAndStorageProviderName) {\n    const isNotRemovedRecentFile = recentFileItem =>\n      recentFileItem.fileMetadata.fileIdentifier !==\n      recentFile.fileMetadata.fileIdentifier;\n    this._setRecentProjectFiles(\n      [...this._getRecentProjectFiles().filter(isNotRemovedRecentFile)].slice(\n        0,\n        MAX_RECENT_FILES_COUNT\n      )\n    );\n  }\n\n  _getAutoOpenMostRecentProject() {\n    return this.state.values.autoOpenMostRecentProject;\n  }\n\n  _setAutoOpenMostRecentProject(enabled: boolean) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          autoOpenMostRecentProject: enabled,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _hadProjectOpenedDuringLastSession() {\n    return this.state.values.hasProjectOpened;\n  }\n\n  _setHasProjectOpened(enabled: boolean) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          hasProjectOpened: enabled,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _resetShortcutsToDefault() {\n    this.setState(\n      state => ({\n        values: { ...state.values, userShortcutMap: {} },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _setShortcutForCommand(commandName: CommandName, shortcutString: string) {\n    const defaultShortcut = defaultShortcuts[commandName] || '';\n    const setToDefault = defaultShortcut === shortcutString;\n\n    const updatedShortcutMap = { ...this.state.values.userShortcutMap };\n    if (setToDefault) delete updatedShortcutMap[commandName];\n    else updatedShortcutMap[commandName] = shortcutString;\n\n    this.setState(\n      state => ({\n        values: { ...state.values, userShortcutMap: updatedShortcutMap },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _getNewObjectDialogDefaultTab() {\n    return this.state.values.newObjectDialogDefaultTab;\n  }\n\n  _setNewObjectDialogDefaultTab(\n    newObjectDialogDefaultTab: 'asset-store' | 'new-object'\n  ) {\n    this.setState(\n      state => ({\n        values: { ...state.values, newObjectDialogDefaultTab },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _getIsMenuBarHiddenInPreview() {\n    return this.state.values.isMenuBarHiddenInPreview;\n  }\n\n  _setIsMenuBarHiddenInPreview(enabled: boolean) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          isMenuBarHiddenInPreview: enabled,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _setBackdropClickBehavior(\n    backdropClickBehavior: 'nothing' | 'apply' | 'cancel'\n  ) {\n    this.setState(\n      state => ({\n        values: { ...state.values, backdropClickBehavior },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _getIsAlwaysOnTopInPreview() {\n    return this.state.values.isAlwaysOnTopInPreview;\n  }\n\n  _setIsAlwaysOnTopInPreview(enabled: boolean) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          isAlwaysOnTopInPreview: enabled,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _setNewProjectsDefaultFolder(newProjectsDefaultFolder: string) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          newProjectsDefaultFolder,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _setNewProjectsDefaultStorageProviderName(newStorageProviderName: string) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          newProjectsDefaultStorageProviderName: newStorageProviderName,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  render() {\n    return (\n      <PreferencesContext.Provider value={this.state}>\n        {this.props.children}\n      </PreferencesContext.Provider>\n    );\n  }\n}\n","// @flow\n\nexport type RGBColor = {|\n  r: number,\n  g: number,\n  b: number,\n  a?: number,\n|};\n\n/**\n * Convert a RGB color to a RGB string.\n */\nexport const rgbColorToRGBString = (rgbColor: ?RGBColor) => {\n  if (!rgbColor) return '';\n  return `${rgbColor.r};${rgbColor.g};${rgbColor.b}`;\n};\n\n/**\n * Convert a RGB color value to a Hex string.\n * @note No \"#\" or \"0x\" are added.\n */\nexport const rgbToHex = (r: number, g: number, b: number) =>\n  '' + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);\n\n/**\n * Convert a RGB color to a Hex number.\n */\nexport const rgbToHexNumber = (r: number, g: number, b: number) =>\n  (r << 16) + (g << 8) + b;\n\n/**\n * Convert a RGB string (\"rr;gg;bb\") to a Hex number.\n */\nexport const rgbStringToHexNumber = (rgbString: string) => {\n  const rgbColor = rgbStringAndAlphaToRGBColor(rgbString);\n  if (!rgbColor) return 0;\n  return rgbToHexNumber(rgbColor.r, rgbColor.g, rgbColor.b);\n};\n\n/**\n * Convert a RGB string (\"rr;gg;bb\") to a Hex string (#000000).\n */\nexport const rgbStringToHexString = (rgbString: string) => {\n  const rgbColor = rgbStringAndAlphaToRGBColor(rgbString);\n  if (!rgbColor) return '#000000';\n  return rgbColorToHex(rgbColor.r, rgbColor.g, rgbColor.b);\n};\n\n/**\n * Convert a RGB string (\"rrr;ggg;bbb\") or a Hex string (\"#112244\") to a Hex number.\n */\nexport const rgbOrHexToHexNumber = (value: string): number => {\n  const splitValue = value.split(';');\n  // If a RGB string is provided, convert it to HexNumber and return it.\n  if (splitValue.length === 3) {\n    return rgbStringToHexNumber(value);\n  }\n  // Otherwise, convert the Hex to a number.\n  return parseInt(value.replace('#', ''), 16);\n};\n\n/**\n * Convert a Hex number to a RGB color.\n */\nexport const hexNumberToRGBColor = (hexNumber: number) => {\n  return {\n    r: (hexNumber >> 16) & 0xff,\n    g: (hexNumber >> 8) & 0xff,\n    b: hexNumber & 0xff,\n    a: 255,\n  };\n};\n\n/**\n * Convert a Hex string to a RGB color.\n */\nexport const hexToRGBColor = (hex: string) => {\n  const hexNumber = parseInt(hex.replace('#', ''), 16);\n  return hexNumberToRGBColor(hexNumber);\n};\n\n/**\n * Convert a RGB color to a Hex string.\n */\nexport const rgbColorToHex = (r: number, g: number, b: number): string => {\n  const hexNumber = rgbToHexNumber(r, g, b);\n  const hexString = hexNumber.toString(16);\n  return '#' + '000000'.substr(hexString.length) + hexString;\n};\n\n/**\n * Convert a Hex number to a RGB string.\n */\nexport const hexNumberToRGBString = (hex: number) => {\n  const rgbColor = hexNumberToRGBColor(hex);\n  return rgbColorToRGBString(rgbColor);\n};\n\n/**\n * Convert a RGB string (\"rrr;ggg;bbb\") or a Hex string (#rrggbb) to a RGB string.\n * @param value The color as a RGB string or Hex string\n */\nexport const rgbOrHexToRGBString = function(value: string): string {\n  const splitValue = value.split(';');\n  // If a RGB string is provided, just return it.\n  if (splitValue.length === 3) {\n    return value;\n  }\n  // Otherwise, convert the Hex to RGB.\n  const rgbColor = hexToRGBColor(value);\n  return `${rgbColor.r};${rgbColor.g};${rgbColor.b}`;\n};\n\n/**\n * Convert a RGB string (\"rrr;ggg;bbb\") and an alpha number to a RGB color.\n * If alpha is not defined, defaults to 1 (fully opaque)\n */\nexport const rgbStringAndAlphaToRGBColor = (\n  rgbColor: string,\n  alpha?: number\n): RGBColor | null => {\n  const colors = rgbColor.replace(/\"/g, '').split(';');\n  if (colors.length !== 3) {\n    return null;\n  }\n\n  const r = parseInt(colors[0], 10);\n  const g = parseInt(colors[1], 10);\n  const b = parseInt(colors[2], 10);\n  // alpha can be 0, and we need to handle this case.\n  const a = alpha === undefined || alpha === null ? 1 : alpha;\n\n  // Check if parsing of number was done properly (if not,\n  // we receive NaN which is not equal to itself).\n  // eslint-disable-next-line\n  if (r !== r || g !== g || b !== b) return null;\n\n  return {\n    r,\n    g,\n    b,\n    a,\n  };\n};\n\n/**\n * Converts an HSL color value to RGB. Conversion formula\n * adapted from http://en.wikipedia.org/wiki/HSL_color_space.\n * Assumes h, s, and l are contained in the set [0, 1] and\n * returns r, g, and b in the set [0, 255].\n * https://stackoverflow.com/questions/2353211/hsl-to-rgb-color-conversion\n */\nexport const hslToRgb = (h: number, s: number, l: number): number[] => {\n  let r, g, b;\n\n  if (s === 0) {\n    r = g = b = l; // achromatic\n  } else {\n    let hue2rgb = function hue2rgb(p, q, t) {\n      if (t < 0) t += 1;\n      if (t > 1) t -= 1;\n      if (t < 1 / 6) return p + (q - p) * 6 * t;\n      if (t < 1 / 2) return q;\n      if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n      return p;\n    };\n\n    let q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n    let p = 2 * l - q;\n    r = hue2rgb(p, q, h + 1 / 3);\n    g = hue2rgb(p, q, h);\n    b = hue2rgb(p, q, h - 1 / 3);\n  }\n\n  return [Math.round(r * 255), Math.round(g * 255), Math.round(b * 255)];\n};\n\n/**\n * Converts an RGB color value to HSL. Conversion formula\n * adapted from http://en.wikipedia.org/wiki/HSL_color_space.\n * Assumes r, g, and b are contained in the set [0, 255] and\n * returns h, s, and l in the set [0, 1].\n * https://stackoverflow.com/questions/2353211/hsl-to-rgb-color-conversion\n */\nexport const rgbToHsl = (r: number, g: number, b: number): number[] => {\n  r /= 255;\n  g /= 255;\n  b /= 255;\n  let max = Math.max(r, g, b),\n    min = Math.min(r, g, b);\n  let h = 0;\n  let s = 0;\n  let l = (max + min) / 2;\n\n  if (max !== min) {\n    let d = max - min;\n    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n    switch (max) {\n      case r:\n        h = (g - b) / d + (g < b ? 6 : 0);\n        break;\n      case g:\n        h = (b - r) / d + 2;\n        break;\n      case b:\n        h = (r - g) / d + 4;\n        break;\n      default:\n        break;\n    }\n    h /= 6;\n  }\n\n  return [h, s, l];\n};\n\n/**\n * Return true if the specified color is mostly light (and so a dark text/shape\n * should be displayed on it for being readable).\n */\nexport const isLightRgbColor = (rgbColor: RGBColor) => {\n  return rgbColor.r * 0.299 + rgbColor.g * 0.587 + rgbColor.b * 0.114 > 186;\n};\n","import { createGdevelopTheme } from '../CreateTheme';\nimport styles from './DefaultLightThemeVariables.json';\nimport './DefaultLightThemeVariables.css';\n\nexport default createGdevelopTheme({\n  styles,\n\n  rootClassNameIdentifier: 'DefaultLightTheme',\n  paletteType: 'light',\n});\n","// This file is generated by compile-translations.js script\n// prettier-ignore\nmodule.exports = [\n  {\n    \"languageCode\": \"af_ZA\",\n    \"languageName\": \"Afrikaans\",\n    \"languageNativeName\": \"Afrikaans\",\n    \"translationRatio\": 0.05410193513218864\n  },\n  {\n    \"languageCode\": \"ar_SA\",\n    \"languageName\": \"Arabic\",\n    \"languageNativeName\": \"اللغة العربية\",\n    \"translationRatio\": 0.9626601253747615\n  },\n  {\n    \"languageCode\": \"az_AZ\",\n    \"languageName\": \"Azerbaijani\",\n    \"languageNativeName\": \"azərbaycan dili\",\n    \"translationRatio\": 0.03679476696647588\n  },\n  {\n    \"languageCode\": \"bg_BG\",\n    \"languageName\": \"Bulgarian\",\n    \"languageNativeName\": \"български език\",\n    \"translationRatio\": 0.08449168710820387\n  },\n  {\n    \"languageCode\": \"bn_BD\",\n    \"languageName\": \"Bengali\",\n    \"languageNativeName\": \"বাংলা\",\n    \"translationRatio\": 0.05764513491414558\n  },\n  {\n    \"languageCode\": \"br_FR\",\n    \"languageName\": \"Breton\",\n    \"languageNativeName\": \"brezhoneg\",\n    \"translationRatio\": 0.020305260288907112\n  },\n  {\n    \"languageCode\": \"ca_ES\",\n    \"languageName\": \"Catalan\",\n    \"languageNativeName\": \"Català\",\n    \"translationRatio\": 0.2796402289452167\n  },\n  {\n    \"languageCode\": \"cs_CZ\",\n    \"languageName\": \"Czech\",\n    \"languageNativeName\": \"čeština\",\n    \"translationRatio\": 0.25497410738620874\n  },\n  {\n    \"languageCode\": \"da_DK\",\n    \"languageName\": \"Danish\",\n    \"languageNativeName\": \"dansk\",\n    \"translationRatio\": 0.06118833469610252\n  },\n  {\n    \"languageCode\": \"de_DE\",\n    \"languageName\": \"German\",\n    \"languageNativeName\": \"Deutsch\",\n    \"translationRatio\": 0.702098664486236\n  },\n  {\n    \"languageCode\": \"el_GR\",\n    \"languageName\": \"Greek\",\n    \"languageNativeName\": \"Ελληνικά\",\n    \"translationRatio\": 0.23984736985554644\n  },\n  {\n    \"languageCode\": \"en\",\n    \"languageName\": \"English\",\n    \"languageNativeName\": \"English\",\n    \"translationRatio\": 0.05775193798449607\n  },\n  {\n    \"languageCode\": \"eo_UY\",\n    \"languageName\": \"Esperanto\",\n    \"languageNativeName\": \"Esperanto\",\n    \"translationRatio\": 0.2882256745707277\n  },\n  {\n    \"languageCode\": \"es_ES\",\n    \"languageName\": \"Spanish\",\n    \"languageNativeName\": \"Español\",\n    \"translationRatio\": 0.9867811392750068\n  },\n  {\n    \"languageCode\": \"fa_IR\",\n    \"languageName\": \"Persian\",\n    \"languageNativeName\": \"فارسی\",\n    \"translationRatio\": 0.19610248023984733\n  },\n  {\n    \"languageCode\": \"fi_FI\",\n    \"languageName\": \"Finnish\",\n    \"languageNativeName\": \"suomi\",\n    \"translationRatio\": 0.21872444807849545\n  },\n  {\n    \"languageCode\": \"fil_PH\",\n    \"languageName\": \"Filipino\",\n    \"languageNativeName\": \"Mga Filipino\",\n    \"translationRatio\": 0.3074407195421096\n  },\n  {\n    \"languageCode\": \"fr_FR\",\n    \"languageName\": \"French\",\n    \"languageNativeName\": \"Français\",\n    \"translationRatio\": 0.9806486781139275\n  },\n  {\n    \"languageCode\": \"ha_HG\",\n    \"languageName\": \"Hausa\",\n    \"languageNativeName\": \"هَوُسَ\",\n    \"translationRatio\": 0.024666121559007936\n  },\n  {\n    \"languageCode\": \"he_IL\",\n    \"languageName\": \"Hebrew\",\n    \"languageNativeName\": \"עברית\",\n    \"translationRatio\": 0.20209866448623603\n  },\n  {\n    \"languageCode\": \"hi_IN\",\n    \"languageName\": \"Hindi\",\n    \"languageNativeName\": \"हिन्दी\",\n    \"translationRatio\": 0.18956118833469615\n  },\n  {\n    \"languageCode\": \"hu_HU\",\n    \"languageName\": \"Hungarian\",\n    \"languageNativeName\": \"magyar\",\n    \"translationRatio\": 0.16135186699373127\n  },\n  {\n    \"languageCode\": \"id_ID\",\n    \"languageName\": \"Indonesian\",\n    \"languageNativeName\": \"Bahasa Indonesia\",\n    \"translationRatio\": 0.5025892613791223\n  },\n  {\n    \"languageCode\": \"ig_NG\",\n    \"languageName\": \"Igbo\",\n    \"languageNativeName\": \"Asụsụ Igbo\",\n    \"translationRatio\": 0.020305260288907112\n  },\n  {\n    \"languageCode\": \"it_IT\",\n    \"languageName\": \"Italian\",\n    \"languageNativeName\": \"Italiano\",\n    \"translationRatio\": 0.8522758244753339\n  },\n  {\n    \"languageCode\": \"ja_JP\",\n    \"languageName\": \"Japanese\",\n    \"languageNativeName\": \"日本語\",\n    \"translationRatio\": 0.9806486781139275\n  },\n  {\n    \"languageCode\": \"ka_GE\",\n    \"languageName\": \"Georgian\",\n    \"languageNativeName\": \"ქართული\",\n    \"translationRatio\": 0.05151267375306623\n  },\n  {\n    \"languageCode\": \"km_KH\",\n    \"languageName\": \"Khmer\",\n    \"languageNativeName\": \"ខេមរភាសា\",\n    \"translationRatio\": 0.02643772144998635\n  },\n  {\n    \"languageCode\": \"ko_KR\",\n    \"languageName\": \"Korean\",\n    \"languageNativeName\": \"한국어\",\n    \"translationRatio\": 0.5145816298718997\n  },\n  {\n    \"languageCode\": \"lt_LT\",\n    \"languageName\": \"Lithuanian\",\n    \"languageNativeName\": \"lietuvių kalba\",\n    \"translationRatio\": 0.04578904333605882\n  },\n  {\n    \"languageCode\": \"lv_LV\",\n    \"languageName\": \"Latvian\",\n    \"languageNativeName\": \"latviešu valoda\",\n    \"translationRatio\": 0.02044153720359776\n  },\n  {\n    \"languageCode\": \"mr_IN\",\n    \"languageName\": \"Marathi\",\n    \"languageNativeName\": \"मराठी\",\n    \"translationRatio\": 0.034886890160806705\n  },\n  {\n    \"languageCode\": \"ms_MY\",\n    \"languageName\": \"Malay\",\n    \"languageNativeName\": \"Bahasa Malaysia\",\n    \"translationRatio\": 0.0560098119378577\n  },\n  {\n    \"languageCode\": \"my_MM\",\n    \"languageName\": \"Burmese\",\n    \"languageNativeName\": \"ဗမာစာ\",\n    \"translationRatio\": 0.020714091032979054\n  },\n  {\n    \"languageCode\": \"nl_NL\",\n    \"languageName\": \"Dutch\",\n    \"languageNativeName\": \"Nederlands\",\n    \"translationRatio\": 0.4450804033796675\n  },\n  {\n    \"languageCode\": \"no_NO\",\n    \"languageName\": \"Norwegian\",\n    \"languageNativeName\": \"Norsk\",\n    \"translationRatio\": 0.29844644317252655\n  },\n  {\n    \"languageCode\": \"pl_PL\",\n    \"languageName\": \"Polish\",\n    \"languageNativeName\": \"język polski\",\n    \"translationRatio\": 0.7467974925047697\n  },\n  {\n    \"languageCode\": \"pseudo_LOCALE\",\n    \"languageName\": \"for development only\",\n    \"languageNativeName\": \"Pseudolocalization\",\n    \"translationRatio\": 0.9972868217054264\n  },\n  {\n    \"languageCode\": \"pt_BR\",\n    \"languageName\": \"Brazilian Portuguese\",\n    \"languageNativeName\": \"Português brasileiro\",\n    \"translationRatio\": 0.8893431452711911\n  },\n  {\n    \"languageCode\": \"pt_PT\",\n    \"languageName\": \"Portuguese\",\n    \"languageNativeName\": \"Português\",\n    \"translationRatio\": 0.3428727173616789\n  },\n  {\n    \"languageCode\": \"ro_RO\",\n    \"languageName\": \"Romanian\",\n    \"languageNativeName\": \"Română\",\n    \"translationRatio\": 0.11174707004633411\n  },\n  {\n    \"languageCode\": \"ru_RU\",\n    \"languageName\": \"Russian\",\n    \"languageNativeName\": \"Русский\",\n    \"translationRatio\": 0.9512128645407468\n  },\n  {\n    \"languageCode\": \"si_LK\",\n    \"languageName\": \"Sinhala\",\n    \"languageNativeName\": \"සිංහල\",\n    \"translationRatio\": 0.76151539929136\n  },\n  {\n    \"languageCode\": \"sk_SK\",\n    \"languageName\": \"Slovak\",\n    \"languageNativeName\": \"slovenčina\",\n    \"translationRatio\": 0.2048242027800491\n  },\n  {\n    \"languageCode\": \"sl_SI\",\n    \"languageName\": \"Slovene\",\n    \"languageNativeName\": \"slovenski jezik\",\n    \"translationRatio\": 0.7962660125374761\n  },\n  {\n    \"languageCode\": \"sq_AL\",\n    \"languageName\": \"Albanian\",\n    \"languageNativeName\": \"Shqip\",\n    \"translationRatio\": 0.18015808122104116\n  },\n  {\n    \"languageCode\": \"sr_CS\",\n    \"languageName\": \"Serbian (Latin)\",\n    \"languageNativeName\": \"srpski\",\n    \"translationRatio\": 0.17416189697465245\n  },\n  {\n    \"languageCode\": \"sr_SP\",\n    \"languageName\": \"Serbian\",\n    \"languageNativeName\": \"српски језик\",\n    \"translationRatio\": 0.35104933224311796\n  },\n  {\n    \"languageCode\": \"sv_SE\",\n    \"languageName\": \"Swedish\",\n    \"languageNativeName\": \"svenska\",\n    \"translationRatio\": 0.20264377214499862\n  },\n  {\n    \"languageCode\": \"sw_KE\",\n    \"languageName\": \"Swahili\",\n    \"languageNativeName\": \"Kiswahili\",\n    \"translationRatio\": 0.022758244753338763\n  },\n  {\n    \"languageCode\": \"th_TH\",\n    \"languageName\": \"Thai\",\n    \"languageNativeName\": \"ไทย\",\n    \"translationRatio\": 0.2913600436086127\n  },\n  {\n    \"languageCode\": \"tr_TR\",\n    \"languageName\": \"Turkish\",\n    \"languageNativeName\": \"Türkçe\",\n    \"translationRatio\": 0.8511856091578087\n  },\n  {\n    \"languageCode\": \"uk_UA\",\n    \"languageName\": \"Ukrainian\",\n    \"languageNativeName\": \"Українська\",\n    \"translationRatio\": 0.9918233851185609\n  },\n  {\n    \"languageCode\": \"ur_PK\",\n    \"languageName\": \"Urdu\",\n    \"languageNativeName\": \"اردو\",\n    \"translationRatio\": 0.026573998364677\n  },\n  {\n    \"languageCode\": \"uz_UZ\",\n    \"languageName\": \"Uzbek\",\n    \"languageNativeName\": \"Ўзбек\",\n    \"translationRatio\": 0.025756336876533115\n  },\n  {\n    \"languageCode\": \"vi_VN\",\n    \"languageName\": \"Vietnamese\",\n    \"languageNativeName\": \"Tiếng Việt\",\n    \"translationRatio\": 0.2991278277459798\n  },\n  {\n    \"languageCode\": \"yo_NG\",\n    \"languageName\": \"Yoruba\",\n    \"languageNativeName\": \"Yorùbá\",\n    \"translationRatio\": 0.3299264104660671\n  },\n  {\n    \"languageCode\": \"zh_CN\",\n    \"languageName\": \"Chinese Simplified\",\n    \"languageNativeName\": \"简化字\",\n    \"translationRatio\": 0.9923684927773235\n  },\n  {\n    \"languageCode\": \"zh_TW\",\n    \"languageName\": \"Chinese Traditional\",\n    \"languageNativeName\": \"正體字\",\n    \"translationRatio\": 0.24393567729626597\n  }\n];\n","import { createGdevelopTheme } from '../CreateTheme';\n\nimport styles from './DefaultDarkThemeVariables.json';\nimport './DefaultDarkThemeVariables.css';\n\nexport default createGdevelopTheme({\n  styles,\n\n  rootClassNameIdentifier: 'DefaultDarkTheme',\n  paletteType: 'dark',\n});\n","import { createGdevelopTheme } from '../CreateTheme';\n\nimport styles from './BlueDarkThemeVariables.json';\nimport './BlueDarkThemeVariables.css';\n\nexport default createGdevelopTheme({\n  styles,\n\n  rootClassNameIdentifier: 'BlueDarkTheme',\n  paletteType: 'dark',\n});\n","import { createGdevelopTheme } from '../CreateTheme';\n\nimport styles from './NordThemeVariables.json';\nimport './NordThemeVariables.css';\n\nexport default createGdevelopTheme({\n  styles,\n\n  rootClassNameIdentifier: 'NordTheme',\n  paletteType: 'dark',\n  gdevelopIconsCSSFilter: 'hue-rotate(-15deg) saturate(57%) brightness(120%)',\n});\n","import { createGdevelopTheme } from '../CreateTheme';\n\nimport styles from './SolarizedDarkThemeVariables';\nimport './SolarizedDarkThemeVariables.css';\n\nexport default createGdevelopTheme({\n  styles,\n\n  rootClassNameIdentifier: 'SolarizedDarkTheme',\n  paletteType: 'dark',\n  gdevelopIconsCSSFilter: 'hue-rotate(-15deg) saturate(70%) brightness(90%)',\n});\n","import { createGdevelopTheme } from '../CreateTheme';\n\nimport styles from './OneDarkThemeVariables.json';\nimport './OneDarkThemeVariables.css';\n\nexport default createGdevelopTheme({\n  styles,\n\n  rootClassNameIdentifier: 'OneDarkTheme',\n  paletteType: 'dark',\n  gdevelopIconsCSSFilter: 'hue-rotate(-10deg) saturate(50%)',\n});\n","import { createGdevelopTheme } from '../CreateTheme';\n\nimport styles from './RosePineThemeVariables.json';\nimport './RosePineThemeVariables.css';\n\nexport default createGdevelopTheme({\n  styles,\n  rootClassNameIdentifier: 'RosePineTheme',\n  paletteType: 'dark',\n  gdevelopIconsCSSFilter: 'hue-rotate(75deg) saturate(50%) brightness(100%)',\n});\n","// This file is generated by create-new-theme.js script\nimport DefaultDarkTheme from './DefaultDarkTheme';\nimport DefaultLightTheme from './DefaultLightTheme';\nimport BlueDarkTheme from './BlueDarkTheme';\nimport NordTheme from './NordTheme';\nimport SolarizedDarkTheme from './SolarizedDarkTheme';\nimport OneDarkTheme from './OneDarkTheme';\nimport RosePineTheme from './RosePineTheme';\n\n/*eslint no-useless-computed-key: \"off\"*/\nexport const themes = {\n  ['GDevelop default Dark']: DefaultDarkTheme,\n  ['GDevelop default Light']: DefaultLightTheme,\n  ['Blue Dark']: BlueDarkTheme,\n  ['Nord']: NordTheme,\n  ['Solarized Dark']: SolarizedDarkTheme,\n  ['One Dark']: OneDarkTheme,\n  ['Rosé Pine']: RosePineTheme,\n};\n","// @flow\n\nconst newNameGenerator = (\n  name /*:string */,\n  exists /*:(string) => boolean */,\n  prefix /*: string */ = ''\n): string => {\n  if (!exists(name)) return name;\n  if (prefix && !exists(prefix + name)) return prefix + name;\n\n  const [radix, numberSuffix] = splitNameAndNumberSuffix(prefix + name);\n  const startingNumberSuffix = numberSuffix === null ? 2 : numberSuffix + 1;\n  let potentialName = radix + startingNumberSuffix;\n  for (let i = startingNumberSuffix + 1; exists(potentialName); ++i) {\n    potentialName = radix + i;\n  }\n  return potentialName;\n};\n\nexport const splitNameAndNumberSuffix = (\n  text: string\n): [string, number | null] => {\n  for (let i = 0; i < text.length; i++) {\n    const suffix = text.slice(i, text.length);\n    if (suffix.startsWith('0')) continue;\n\n    // parseInt cannot be used since parseInt('3D4') returns 3.\n    const numberSuffix = Number(suffix);\n    if (numberSuffix === Math.floor(numberSuffix)) {\n      return [text.slice(0, i), numberSuffix];\n    }\n  }\n  return [text, null];\n};\n\nexport default newNameGenerator;\n","// @flow\nimport optionalRequire from './OptionalRequire';\nconst remote = optionalRequire('@electron/remote');\nconst process = optionalRequire('process');\n\nlet _isWindows = false;\nif (remote) {\n  _isWindows = remote.require('electron-is').windows();\n}\nconst _isMacLike =\n  typeof navigator !== 'undefined' &&\n  navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i)\n    ? true\n    : false;\n\nconst _isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\n  typeof navigator !== 'undefined' ? navigator.userAgent : ''\n);\n\nexport const getUserAgent = (): string => {\n  return typeof navigator !== 'undefined'\n    ? navigator.userAgent || 'Unknown navigator'\n    : 'Unknown (not a navigator)';\n};\n\nexport const getArch = (): string => {\n  return process\n    ? process.arch || 'Unknown architecture'\n    : 'Unknown architecture (web-app)';\n};\n\nexport const getSystemVersion = (): string => {\n  return process && process.getSystemVersion\n    ? process.getSystemVersion() || 'Unknown system version'\n    : 'Unknown system version (web-app)';\n};\n\nexport const getPlatformName = (): string => {\n  return process\n    ? process.platform || 'Unknown platform'\n    : (typeof navigator !== 'undefined' ? navigator.platform : '') ||\n        'Unknown platform (web-app)';\n};\n\nexport const isWindows = () => _isWindows;\nexport const isMacLike = () => _isMacLike;\nexport const isMobile = () => _isMobile;\nexport const isNativeMobileApp = () => false;\n","// @flow\nimport { initializeApp } from 'firebase/app';\nimport {\n  Auth,\n  getAuth,\n  onAuthStateChanged,\n  User as FirebaseUser,\n  createUserWithEmailAndPassword,\n  signInWithEmailAndPassword,\n  sendPasswordResetEmail,\n  signOut,\n  sendEmailVerification,\n  updateEmail,\n} from 'firebase/auth';\nimport { GDevelopFirebaseConfig, GDevelopUserApi } from './ApiConfigs';\nimport axios from 'axios';\nimport { showErrorBox } from '../../UI/Messages/MessageBox';\nimport { type CommunityLinks } from './User';\n\nexport type Profile = {|\n  id: string,\n  email: string,\n  username: ?string,\n  description: ?string,\n  updatedAt: number,\n  createdAt: number,\n  getGameStatsEmail: boolean,\n  getNewsletterEmail: boolean,\n  appLanguage: ?string,\n  isCreator: boolean,\n  isPlayer: boolean,\n  isTeacher: boolean,\n  isStudent: boolean,\n  isEmailAutogenerated: boolean,\n  donateLink: ?string,\n  communityLinks?: CommunityLinks,\n\n  gdevelopUsage?: string,\n  teamOrCompanySize?: string,\n  companyName?: string,\n  creationExperience?: string,\n  creationGoal?: string,\n  hearFrom?: string,\n|};\n\nexport type LoginForm = {|\n  email: string,\n  password: string,\n|};\n\nexport type ForgotPasswordForm = {|\n  email: string,\n|};\n\nexport type RegisterForm = {|\n  email: string,\n  password: string,\n  username: string,\n  getNewsletterEmail: boolean,\n|};\n\nexport type AdditionalUserInfoForm = {|\n  gdevelopUsage?: string,\n  teamOrCompanySize?: string,\n  companyName?: string,\n  creationExperience?: string,\n  creationGoal?: string,\n  hearFrom?: string,\n|};\n\nexport type EditForm = {|\n  username: string,\n  description: string,\n  getGameStatsEmail: boolean,\n  getNewsletterEmail: boolean,\n  donateLink: string,\n  communityLinks: CommunityLinks,\n|};\n\nexport type ChangeEmailForm = {|\n  email: string,\n|};\n\nexport type AuthError = {\n  code:\n    | 'auth/invalid-email'\n    | 'auth/user-disabled'\n    | 'auth/user-not-found'\n    | 'auth/wrong-password'\n    | 'auth/email-already-in-use'\n    | 'auth/operation-not-allowed'\n    | 'auth/weak-password'\n    | 'auth/username-used'\n    | 'auth/malformed-username'\n    | 'auth/requires-recent-login'\n    | 'auth/too-many-requests',\n};\n\nexport default class Authentication {\n  auth: Auth;\n  _onUserLogoutCallbacks: Array<() => void | Promise<void>> = [];\n  _onUserUpdateCallbacks: Array<() => void | Promise<void>> = [];\n\n  constructor() {\n    const app = initializeApp(GDevelopFirebaseConfig);\n    this.auth = getAuth(app);\n    onAuthStateChanged(this.auth, user => {\n      if (user) {\n        // User has logged in or changed.\n        this._onUserUpdateCallbacks.forEach(cb => cb());\n      } else {\n        // User has logged out.\n        this._onUserLogoutCallbacks.forEach(cb => cb());\n      }\n    });\n  }\n\n  addUserLogoutListener = (cb: () => void | Promise<void>) => {\n    this._onUserLogoutCallbacks.push(cb);\n  };\n\n  addUserUpdateListener = (cb: () => void | Promise<void>) => {\n    this._onUserUpdateCallbacks.push(cb);\n  };\n\n  removeEventListener = (cbToRemove: () => void | Promise<void>) => {\n    this._onUserLogoutCallbacks = this._onUserLogoutCallbacks.filter(\n      cb => cb !== cbToRemove\n    );\n    this._onUserUpdateCallbacks = this._onUserUpdateCallbacks.filter(\n      cb => cb !== cbToRemove\n    );\n  };\n\n  createFirebaseAccount = (form: RegisterForm): Promise<void> => {\n    return createUserWithEmailAndPassword(this.auth, form.email, form.password)\n      .then(userCredentials => {\n        // The user is now stored in `this.auth`.\n        sendEmailVerification(userCredentials.user);\n      })\n      .catch(error => {\n        console.error('Error while creating firebase account:', error);\n        throw error;\n      });\n  };\n\n  createUser = (\n    getAuthorizationHeader: () => Promise<string>,\n    form: RegisterForm,\n    appLanguage: string\n  ): Promise<void> => {\n    return getAuthorizationHeader()\n      .then(authorizationHeader => {\n        const { currentUser } = this.auth;\n        if (!currentUser) {\n          console.error(\n            'Cannot create the user as it is not logged in any more.'\n          );\n          throw new Error(\n            'Cannot create the user as it is not logged in any more.'\n          );\n        }\n        return axios.post(\n          `${GDevelopUserApi.baseUrl}/user`,\n          {\n            id: currentUser.uid,\n            email: form.email,\n            username: form.username,\n            appLanguage: appLanguage,\n            getNewsletterEmail: form.getNewsletterEmail,\n            isCreator: true,\n          },\n          {\n            params: {\n              userId: currentUser.uid,\n            },\n            headers: {\n              Authorization: authorizationHeader,\n            },\n          }\n        );\n      })\n      .then(() => {\n        // User successfully created\n      })\n      .catch(error => {\n        console.error('Error while creating user:', error);\n        throw error;\n      });\n  };\n\n  login = (form: LoginForm): Promise<void> => {\n    return signInWithEmailAndPassword(this.auth, form.email, form.password)\n      .then(userCredentials => {\n        // The user is now stored in `this.auth`.\n      })\n      .catch(error => {\n        console.error('Error while login:', error);\n        throw error;\n      });\n  };\n\n  forgotPassword = (form: ForgotPasswordForm): Promise<void> => {\n    return sendPasswordResetEmail(this.auth, form.email);\n  };\n\n  getFirebaseUser = async (): Promise<?FirebaseUser> => {\n    const { currentUser } = this.auth;\n    if (!currentUser) {\n      return null;\n    }\n\n    // In order to fetch the latest firebaseUser properties (like emailVerified)\n    // we have to call the reload method.\n    await currentUser.reload();\n    return this.auth.currentUser;\n  };\n\n  sendFirebaseEmailVerification = async (): Promise<void> => {\n    {\n      const { currentUser } = this.auth;\n      if (!currentUser)\n        throw new Error(\n          'Tried to send verification email while not authenticated.'\n        );\n\n      await currentUser.reload();\n    }\n    const { currentUser } = this.auth;\n    if (!currentUser || currentUser.emailVerified) return;\n\n    try {\n      await sendEmailVerification(currentUser);\n    } catch (error) {\n      showErrorBox({\n        message:\n          'An email has been sent recently, check your inbox or please try again later.',\n        rawError: error,\n        errorId: 'email-verification-send-error',\n      });\n    }\n  };\n\n  changeEmail = async (\n    getAuthorizationHeader: () => Promise<string>,\n    form: ChangeEmailForm\n  ) => {\n    const { currentUser } = this.auth;\n    if (!currentUser)\n      throw new Error('Tried to change email while not authenticated.');\n\n    return updateEmail(currentUser, form.email)\n      .then(() => sendEmailVerification(currentUser))\n      .then(() => {\n        console.log('Email successfully changed in Firebase.');\n        return getAuthorizationHeader();\n      })\n      .then(authorizationHeader => {\n        return axios.patch(\n          `${GDevelopUserApi.baseUrl}/user/${currentUser.uid}`,\n          {\n            email: form.email,\n          },\n          {\n            params: {\n              userId: currentUser.uid,\n            },\n            headers: {\n              Authorization: authorizationHeader,\n            },\n          }\n        );\n      })\n      .then(() => {\n        console.log('Email successfully changed in the GDevelop services.');\n      })\n      .catch(error => {\n        console.error('An error happened during email change.', error);\n        throw error;\n      });\n  };\n\n  getUserProfile = async (\n    getAuthorizationHeader: () => Promise<string>\n  ): Promise<Profile> => {\n    const { currentUser } = this.auth;\n    if (!currentUser)\n      throw new Error('Tried to get user profile while not authenticated.');\n\n    return getAuthorizationHeader()\n      .then(authorizationHeader => {\n        return axios.get(`${GDevelopUserApi.baseUrl}/user/${currentUser.uid}`, {\n          params: {\n            userId: currentUser.uid,\n          },\n          headers: {\n            Authorization: authorizationHeader,\n          },\n        });\n      })\n      .then(response => response.data)\n      .catch(error => {\n        console.error('Error while fetching user:', error);\n        throw error;\n      });\n  };\n\n  editUserProfile = async (\n    getAuthorizationHeader: () => Promise<string>,\n    {\n      username,\n      description,\n      getGameStatsEmail,\n      getNewsletterEmail,\n      appLanguage,\n      isCreator,\n      donateLink,\n      communityLinks,\n      gdevelopUsage,\n      teamOrCompanySize,\n      companyName,\n      creationExperience,\n      creationGoal,\n      hearFrom,\n    }: {\n      username?: string,\n      description?: string,\n      getGameStatsEmail?: boolean,\n      getNewsletterEmail?: boolean,\n      appLanguage?: string,\n      isCreator?: boolean,\n      donateLink?: string,\n      communityLinks?: CommunityLinks,\n      gdevelopUsage?: string,\n      teamOrCompanySize?: string,\n      companyName?: string,\n      creationExperience?: string,\n      creationGoal?: string,\n      hearFrom?: string,\n    }\n  ) => {\n    const { currentUser } = this.auth;\n    if (!currentUser)\n      throw new Error('Tried to edit user profile while not authenticated.');\n\n    return getAuthorizationHeader()\n      .then(authorizationHeader => {\n        return axios.patch(\n          `${GDevelopUserApi.baseUrl}/user/${currentUser.uid}`,\n          {\n            username,\n            description,\n            getGameStatsEmail,\n            getNewsletterEmail,\n            appLanguage,\n            isCreator,\n            donateLink,\n            communityLinks,\n            gdevelopUsage,\n            teamOrCompanySize,\n            companyName,\n            creationExperience,\n            creationGoal,\n            hearFrom,\n          },\n          {\n            params: {\n              userId: currentUser.uid,\n            },\n            headers: {\n              Authorization: authorizationHeader,\n            },\n          }\n        );\n      })\n      .then(response => response.data)\n      .catch(error => {\n        console.error('Error while editing user:', error);\n        throw error;\n      });\n  };\n\n  acceptGameStatsEmail = async (\n    getAuthorizationHeader: () => Promise<string>\n  ) => {\n    const { currentUser } = this.auth;\n    if (!currentUser)\n      throw new Error(\n        'Tried to accept game stats email while not authenticated.'\n      );\n\n    return getAuthorizationHeader()\n      .then(authorizationHeader => {\n        return axios.patch(\n          `${GDevelopUserApi.baseUrl}/user/${currentUser.uid}`,\n          { getGameStatsEmail: true },\n          {\n            params: { userId: currentUser.uid },\n            headers: { Authorization: authorizationHeader },\n          }\n        );\n      })\n      .then(response => response.data)\n      .catch(error => {\n        console.error('Error while accepting game stats email:', error);\n        throw error;\n      });\n  };\n\n  getFirebaseUserSync = (): ?FirebaseUser => {\n    return this.auth.currentUser || null;\n  };\n\n  logout = async () => {\n    try {\n      await signOut(this.auth);\n      console.log('Logout successful.');\n    } catch (error) {\n      console.error('An error happened during logout.', error);\n      throw error;\n    }\n  };\n\n  deleteAccount = async (getAuthorizationHeader: () => Promise<string>) => {\n    const { currentUser } = this.auth;\n    if (!currentUser) {\n      throw new Error('Tried to delete account while not authenticated.');\n    }\n\n    try {\n      const authorizationHeader = await getAuthorizationHeader();\n      await axios.delete(`${GDevelopUserApi.baseUrl}/user/${currentUser.uid}`, {\n        params: {\n          userId: currentUser.uid,\n        },\n        headers: {\n          Authorization: authorizationHeader,\n        },\n      });\n      // Ensure we logout the user after the account has been deleted.\n      await this.logout();\n    } catch (error) {\n      console.error('An error happened during account deletion.', error);\n      throw error;\n    }\n  };\n\n  getAuthorizationHeader = async (): Promise<string> => {\n    const { currentUser } = this.auth;\n    if (!currentUser) throw new Error('User is not authenticated.');\n\n    return currentUser.getIdToken().then(token => `Bearer ${token}`);\n  };\n\n  isAuthenticated = (): boolean => {\n    return !!this.auth.currentUser;\n  };\n}\n"],"sourceRoot":""}